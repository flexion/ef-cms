Sending build context to Docker daemon  2.829MB
Step 1/33 : FROM cypress/base:8
 ---> 06858f2f01aa
Step 2/33 : WORKDIR /home/app
 ---> Using cache
 ---> 8947c5a7b87c
Step 3/33 : RUN echo "deb http://http.debian.net/debian jessie-backports main" >> /etc/apt/sources.list
 ---> Using cache
 ---> d82b33a44845
Step 4/33 : RUN apt-get update
 ---> Using cache
 ---> fc5d6ea9df92
Step 5/33 : RUN apt-get install -y -t jessie-backports openjdk-8-jdk
 ---> Using cache
 ---> f657529d2934
Step 6/33 : RUN apt-get install -yq git bash
 ---> Using cache
 ---> 06db5aa0feb9
Step 7/33 : RUN apt-get update &&     apt-get install -yq gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3     libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4     libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1     libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6     ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
 ---> Using cache
 ---> 2b280034c8bf
Step 8/33 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 6e70eccc0a94
Step 9/33 : RUN apt-get install -yq openssh-client python python-pip python-setuptools ca-certificates groff less
 ---> Using cache
 ---> ea46c9290773
Step 10/33 : RUN apt-get install -yq unzip wget
 ---> Using cache
 ---> 1e62c1472b06
Step 11/33 : RUN apt-get install -y awscli
 ---> Using cache
 ---> 5a163dfe4367
Step 12/33 : RUN apt-get install -y jq
 ---> Using cache
 ---> 4c10cb5b8efe
Step 13/33 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> e2d2404745c9
Step 14/33 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> af7b142c55ad
Step 15/33 : RUN curl --insecure -OL 'https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip'
 ---> Using cache
 ---> 84711f35c394
Step 16/33 : RUN mkdir sonar_scanner
 ---> Using cache
 ---> 7eb6fc36c01d
Step 17/33 : RUN unzip -d sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 0bf7b72fae3f
Step 18/33 : RUN mv sonar_scanner/* sonar_home
 ---> Using cache
 ---> 69d2a57d72fe
Step 19/33 : RUN rm -rf sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 9fb837b2490c
Step 20/33 : ENV SONAR_RUNNER_HOME=/home/app/sonar_home
 ---> Using cache
 ---> eb257813ac00
Step 21/33 : ENV PATH ${SONAR_RUNNER_HOME}/bin:$PATH
 ---> Using cache
 ---> 8356172cd398
Step 22/33 : RUN sed -i 's/use_embedded_jre=true/use_embedded_jre=false/g' sonar_home/bin/sonar-scanner
 ---> Using cache
 ---> 7de2064ae73c
Step 23/33 : RUN java -version
 ---> Using cache
 ---> 99fce17e1245
Step 24/33 : RUN CI=true npm install cypress
 ---> Using cache
 ---> 9e31249af98a
Step 25/33 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 07ec31a817ff
Step 26/33 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> e1afe9a005fa
Step 27/33 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> 79dcd2ebc09e
Step 28/33 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> 0ad4f5a66274
Step 29/33 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 8098a1fd76d3
Step 30/33 : COPY web-client/package.json /home/app/web-client/package.json
 ---> Using cache
 ---> 39f53871d7dd
Step 31/33 : RUN cd /home/app/web-client && npm i
 ---> Using cache
 ---> a32d7597406a
Step 32/33 : COPY . /home/app
 ---> Using cache
 ---> 10d6338791d7
Step 33/33 : CMD echo "please overwrite this command"
 ---> Using cache
 ---> 69ca2d9cd6ba
Successfully built 69ca2d9cd6ba
Successfully tagged init:latest
~/Workspace/ef-cms/shared ~/Workspace/ef-cms
Sending build context to Docker daemon  2.833MB
Step 1/9 : FROM node:8
 ---> 3b7ecd51ffe5
Step 2/9 : RUN apt-get update
 ---> Using cache
 ---> 2785df1035fd
Step 3/9 : RUN apt-get install -yq git bash shellcheck
 ---> Using cache
 ---> 36a2ed39281c
Step 4/9 : WORKDIR /home/app
 ---> Using cache
 ---> b215c7f57fce
Step 5/9 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 1bc2dd89946d
Step 6/9 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> aeaf0918a0cd
Step 7/9 : RUN cd /home/app/shared && npm i
 ---> Using cache
 ---> 67257a0153eb
Step 8/9 : COPY . /home/app
 ---> a52384c347d1
Step 9/9 : CMD echo "please overwrite this command"
 ---> Running in 2612ad09f6f8
Removing intermediate container 2612ad09f6f8
 ---> acd4d261c9d0
Successfully built acd4d261c9d0
Successfully tagged shared-build:latest
init completed
Sending build context to Docker daemon  2.834MB
Step 1/9 : FROM node:8
 ---> 3b7ecd51ffe5
Step 2/9 : RUN apt-get update
 ---> Using cache
 ---> 2785df1035fd
Step 3/9 : RUN apt-get install -yq git bash shellcheck
 ---> Using cache
 ---> 36a2ed39281c
Step 4/9 : WORKDIR /home/app
 ---> Using cache
 ---> b215c7f57fce
Step 5/9 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 1bc2dd89946d
Step 6/9 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> aeaf0918a0cd
Step 7/9 : RUN cd /home/app/shared && npm i
 ---> Using cache
 ---> 67257a0153eb
Step 8/9 : COPY . /home/app
 ---> 83ca51e9cb55
Step 9/9 : CMD echo "please overwrite this command"
 ---> Running in c9477cd17d97
Removing intermediate container c9477cd17d97
 ---> 59401014da05
Successfully built 59401014da05
Successfully tagged shared-build:latest
Sending build context to Docker daemon  2.834MB
Step 1/9 : FROM node:8
 ---> 3b7ecd51ffe5
Step 2/9 : RUN apt-get update
 ---> Using cache
 ---> 2785df1035fd
Step 3/9 : RUN apt-get install -yq git bash shellcheck
 ---> Using cache
 ---> 36a2ed39281c
Step 4/9 : WORKDIR /home/app
 ---> Using cache
 ---> b215c7f57fce
Step 5/9 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 1bc2dd89946d
Step 6/9 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> aeaf0918a0cd
Step 7/9 : RUN cd /home/app/shared && npm i
 ---> Using cache
 ---> 67257a0153eb
Step 8/9 : COPY . /home/app
 ---> 491b4f90f0a7
Step 9/9 : CMD echo "please overwrite this command"
 ---> Running in e0d5ee848cf0
Removing intermediate container e0d5ee848cf0
 ---> 2f3a17981d06
Successfully built 2f3a17981d06
Successfully tagged shared-build:latest
=== npm audit security report ===                        
                                                                                
found 0 vulnerabilities
 in 21741 scanned packages
Sending build context to Docker daemon  2.836MB
Step 1/9 : FROM node:8
 ---> 3b7ecd51ffe5
Step 2/9 : RUN apt-get update
 ---> Using cache
 ---> 2785df1035fd
Step 3/9 : RUN apt-get install -yq git bash shellcheck
 ---> Using cache
 ---> 36a2ed39281c
Step 4/9 : WORKDIR /home/app
 ---> Using cache
 ---> b215c7f57fce
Step 5/9 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 1bc2dd89946d
Step 6/9 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> aeaf0918a0cd
Step 7/9 : RUN cd /home/app/shared && npm i
 ---> Using cache
 ---> 67257a0153eb
Step 8/9 : COPY . /home/app
 ---> 35828de2bc58
Step 9/9 : CMD echo "please overwrite this command"
 ---> Running in 30ef31962c7b
Removing intermediate container 30ef31962c7b
 ---> 09a62fa70fbd
Successfully built 09a62fa70fbd
Successfully tagged shared-build:latest

> ef-cms-shared@1.0.0 lint /home/app/shared
> eslint ./src && stylelint ./src/**/*.scss;

Sending build context to Docker daemon  2.836MB
Step 1/9 : FROM node:8
 ---> 3b7ecd51ffe5
Step 2/9 : RUN apt-get update
 ---> Using cache
 ---> 2785df1035fd
Step 3/9 : RUN apt-get install -yq git bash shellcheck
 ---> Using cache
 ---> 36a2ed39281c
Step 4/9 : WORKDIR /home/app
 ---> Using cache
 ---> b215c7f57fce
Step 5/9 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 1bc2dd89946d
Step 6/9 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> aeaf0918a0cd
Step 7/9 : RUN cd /home/app/shared && npm i
 ---> Using cache
 ---> 67257a0153eb
Step 8/9 : COPY . /home/app
 ---> 9bf4c15e05f2
Step 9/9 : CMD echo "please overwrite this command"
 ---> Running in 466205ee358f
Removing intermediate container 466205ee358f
 ---> d7fbbd3f2402
Successfully built d7fbbd3f2402
Successfully tagged shared-build:latest

> ef-cms-shared@1.0.0 test /home/app/shared
> jest

-------------------------------------------------|----------|----------|----------|----------|-------------------|
File                                             |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
-------------------------------------------------|----------|----------|----------|----------|-------------------|
All files                                        |    95.81 |    92.72 |    94.74 |    96.19 |                   |
 authorization                                   |    92.31 |       95 |      100 |    92.31 |                   |
  authorizationClientService.js                  |    92.31 |       95 |      100 |    92.31 |                31 |
 business/entities                               |      100 |    91.89 |      100 |      100 |                   |
  Case.js                                        |      100 |    92.59 |      100 |      100 |           100,129 |
  CaseInitiator.js                               |      100 |      100 |      100 |      100 |                   |
  Document.js                                    |      100 |      100 |      100 |      100 |                   |
  User.js                                        |      100 |      100 |      100 |      100 |                   |
  WorkItem.js                                    |      100 |       50 |      100 |      100 |                18 |
 business/useCases                               |    95.37 |    89.19 |      100 |    96.23 |                   |
  createCase.interactor.js                       |      100 |      100 |      100 |      100 |                   |
  getCase.interactor.js                          |      100 |      100 |      100 |      100 |                   |
  getCases.interactor.js                         |    83.33 |    71.43 |      100 |    88.24 |             10,33 |
  getCasesByStatus.interactor.js                 |      100 |      100 |      100 |      100 |                   |
  getCasesByUser.interactor.js                   |      100 |      100 |      100 |      100 |                   |
  getUser.interactor.js                          |      100 |      100 |      100 |      100 |                   |
  sendPetitionToIRS.interactor.js                |      100 |      100 |      100 |      100 |                   |
  updateCase.interactor.js                       |    95.24 |     87.5 |      100 |    95.24 |                45 |
  uploadCasePdfs.interactor.js                   |    90.91 |      100 |      100 |    90.91 |                58 |
 business/useCases/respondent                    |      100 |    85.71 |      100 |      100 |                   |
  fileAnswerUpdateCase.interactor.js             |      100 |      100 |      100 |      100 |                   |
  fileRespondentDocument.js                      |      100 |    85.71 |      100 |      100 |                55 |
  fileStipulatedDecisionUpdateCase.interactor.js |      100 |      100 |      100 |      100 |                   |
  getCasesForRespondent.interactor.js            |      100 |      100 |      100 |      100 |                   |
 business/useCases/utilities                     |       80 |      100 |      100 |       80 |                   |
  getUser.js                                     |       80 |      100 |      100 |       80 |                 7 |
 errors                                          |      100 |      100 |      100 |      100 |                   |
  errors.js                                      |      100 |      100 |      100 |      100 |                   |
 persistence                                     |     91.6 |    94.12 |    86.11 |    92.11 |                   |
  awsDynamoPersistence.js                        |       90 |    91.67 |    77.78 |    89.71 |... 98,213,228,256 |
  docketNumberGenerator.js                       |      100 |      100 |      100 |      100 |                   |
  dynamodbClientService.js                       |    93.18 |    95.45 |    94.12 |    95.12 |             70,71 |
 test                                            |      100 |      100 |      100 |      100 |                   |
  mockDocuments.js                               |      100 |      100 |      100 |      100 |                   |
 utilities                                       |      100 |      100 |      100 |      100 |                   |
  JoiValidationDecorator.js                      |      100 |      100 |      100 |      100 |                   |
-------------------------------------------------|----------|----------|----------|----------|-------------------|
shared-test
~/Workspace/ef-cms
~/Workspace/ef-cms/web-client ~/Workspace/ef-cms
Sending build context to Docker daemon  2.842MB
Step 1/33 : FROM cypress/base:8
 ---> 06858f2f01aa
Step 2/33 : WORKDIR /home/app
 ---> Using cache
 ---> 8947c5a7b87c
Step 3/33 : RUN echo "deb http://http.debian.net/debian jessie-backports main" >> /etc/apt/sources.list
 ---> Using cache
 ---> d82b33a44845
Step 4/33 : RUN apt-get update
 ---> Using cache
 ---> fc5d6ea9df92
Step 5/33 : RUN apt-get install -y -t jessie-backports openjdk-8-jdk
 ---> Using cache
 ---> f657529d2934
Step 6/33 : RUN apt-get install -yq git bash
 ---> Using cache
 ---> 06db5aa0feb9
Step 7/33 : RUN apt-get update &&     apt-get install -yq gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3     libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4     libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1     libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6     ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
 ---> Using cache
 ---> 2b280034c8bf
Step 8/33 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 6e70eccc0a94
Step 9/33 : RUN apt-get install -yq openssh-client python python-pip python-setuptools ca-certificates groff less
 ---> Using cache
 ---> ea46c9290773
Step 10/33 : RUN apt-get install -yq unzip wget
 ---> Using cache
 ---> 1e62c1472b06
Step 11/33 : RUN apt-get install -y awscli
 ---> Using cache
 ---> 5a163dfe4367
Step 12/33 : RUN apt-get install -y jq
 ---> Using cache
 ---> 4c10cb5b8efe
Step 13/33 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> e2d2404745c9
Step 14/33 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> af7b142c55ad
Step 15/33 : RUN curl --insecure -OL 'https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip'
 ---> Using cache
 ---> 84711f35c394
Step 16/33 : RUN mkdir sonar_scanner
 ---> Using cache
 ---> 7eb6fc36c01d
Step 17/33 : RUN unzip -d sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 0bf7b72fae3f
Step 18/33 : RUN mv sonar_scanner/* sonar_home
 ---> Using cache
 ---> 69d2a57d72fe
Step 19/33 : RUN rm -rf sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 9fb837b2490c
Step 20/33 : ENV SONAR_RUNNER_HOME=/home/app/sonar_home
 ---> Using cache
 ---> eb257813ac00
Step 21/33 : ENV PATH ${SONAR_RUNNER_HOME}/bin:$PATH
 ---> Using cache
 ---> 8356172cd398
Step 22/33 : RUN sed -i 's/use_embedded_jre=true/use_embedded_jre=false/g' sonar_home/bin/sonar-scanner
 ---> Using cache
 ---> 7de2064ae73c
Step 23/33 : RUN java -version
 ---> Using cache
 ---> 99fce17e1245
Step 24/33 : RUN CI=true npm install cypress
 ---> Using cache
 ---> 9e31249af98a
Step 25/33 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 07ec31a817ff
Step 26/33 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> e1afe9a005fa
Step 27/33 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> 79dcd2ebc09e
Step 28/33 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> 0ad4f5a66274
Step 29/33 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 8098a1fd76d3
Step 30/33 : COPY web-client/package.json /home/app/web-client/package.json
 ---> Using cache
 ---> 39f53871d7dd
Step 31/33 : RUN cd /home/app/web-client && npm i
 ---> Using cache
 ---> a32d7597406a
Step 32/33 : COPY . /home/app
 ---> 90fe9c6701ea
Step 33/33 : CMD echo "please overwrite this command"
 ---> Running in 7e196de7a465
Removing intermediate container 7e196de7a465
 ---> 3d425973820b
Successfully built 3d425973820b
Successfully tagged web-client-build:latest
init completed
Sending build context to Docker daemon  2.846MB
Step 1/33 : FROM cypress/base:8
 ---> 06858f2f01aa
Step 2/33 : WORKDIR /home/app
 ---> Using cache
 ---> 8947c5a7b87c
Step 3/33 : RUN echo "deb http://http.debian.net/debian jessie-backports main" >> /etc/apt/sources.list
 ---> Using cache
 ---> d82b33a44845
Step 4/33 : RUN apt-get update
 ---> Using cache
 ---> fc5d6ea9df92
Step 5/33 : RUN apt-get install -y -t jessie-backports openjdk-8-jdk
 ---> Using cache
 ---> f657529d2934
Step 6/33 : RUN apt-get install -yq git bash
 ---> Using cache
 ---> 06db5aa0feb9
Step 7/33 : RUN apt-get update &&     apt-get install -yq gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3     libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4     libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1     libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6     ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
 ---> Using cache
 ---> 2b280034c8bf
Step 8/33 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 6e70eccc0a94
Step 9/33 : RUN apt-get install -yq openssh-client python python-pip python-setuptools ca-certificates groff less
 ---> Using cache
 ---> ea46c9290773
Step 10/33 : RUN apt-get install -yq unzip wget
 ---> Using cache
 ---> 1e62c1472b06
Step 11/33 : RUN apt-get install -y awscli
 ---> Using cache
 ---> 5a163dfe4367
Step 12/33 : RUN apt-get install -y jq
 ---> Using cache
 ---> 4c10cb5b8efe
Step 13/33 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> e2d2404745c9
Step 14/33 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> af7b142c55ad
Step 15/33 : RUN curl --insecure -OL 'https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip'
 ---> Using cache
 ---> 84711f35c394
Step 16/33 : RUN mkdir sonar_scanner
 ---> Using cache
 ---> 7eb6fc36c01d
Step 17/33 : RUN unzip -d sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 0bf7b72fae3f
Step 18/33 : RUN mv sonar_scanner/* sonar_home
 ---> Using cache
 ---> 69d2a57d72fe
Step 19/33 : RUN rm -rf sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 9fb837b2490c
Step 20/33 : ENV SONAR_RUNNER_HOME=/home/app/sonar_home
 ---> Using cache
 ---> eb257813ac00
Step 21/33 : ENV PATH ${SONAR_RUNNER_HOME}/bin:$PATH
 ---> Using cache
 ---> 8356172cd398
Step 22/33 : RUN sed -i 's/use_embedded_jre=true/use_embedded_jre=false/g' sonar_home/bin/sonar-scanner
 ---> Using cache
 ---> 7de2064ae73c
Step 23/33 : RUN java -version
 ---> Using cache
 ---> 99fce17e1245
Step 24/33 : RUN CI=true npm install cypress
 ---> Using cache
 ---> 9e31249af98a
Step 25/33 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 07ec31a817ff
Step 26/33 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> e1afe9a005fa
Step 27/33 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> 79dcd2ebc09e
Step 28/33 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> 0ad4f5a66274
Step 29/33 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 8098a1fd76d3
Step 30/33 : COPY web-client/package.json /home/app/web-client/package.json
 ---> Using cache
 ---> 39f53871d7dd
Step 31/33 : RUN cd /home/app/web-client && npm i
 ---> Using cache
 ---> a32d7597406a
Step 32/33 : COPY . /home/app
 ---> 221eb513e691
Step 33/33 : CMD echo "please overwrite this command"
 ---> Running in 968d8445a598
Removing intermediate container 968d8445a598
 ---> 2284bac8fb12
Successfully built 2284bac8fb12
Successfully tagged web-client-build:latest
Sending build context to Docker daemon   2.85MB
Step 1/33 : FROM cypress/base:8
 ---> 06858f2f01aa
Step 2/33 : WORKDIR /home/app
 ---> Using cache
 ---> 8947c5a7b87c
Step 3/33 : RUN echo "deb http://http.debian.net/debian jessie-backports main" >> /etc/apt/sources.list
 ---> Using cache
 ---> d82b33a44845
Step 4/33 : RUN apt-get update
 ---> Using cache
 ---> fc5d6ea9df92
Step 5/33 : RUN apt-get install -y -t jessie-backports openjdk-8-jdk
 ---> Using cache
 ---> f657529d2934
Step 6/33 : RUN apt-get install -yq git bash
 ---> Using cache
 ---> 06db5aa0feb9
Step 7/33 : RUN apt-get update &&     apt-get install -yq gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3     libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4     libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1     libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6     ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
 ---> Using cache
 ---> 2b280034c8bf
Step 8/33 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 6e70eccc0a94
Step 9/33 : RUN apt-get install -yq openssh-client python python-pip python-setuptools ca-certificates groff less
 ---> Using cache
 ---> ea46c9290773
Step 10/33 : RUN apt-get install -yq unzip wget
 ---> Using cache
 ---> 1e62c1472b06
Step 11/33 : RUN apt-get install -y awscli
 ---> Using cache
 ---> 5a163dfe4367
Step 12/33 : RUN apt-get install -y jq
 ---> Using cache
 ---> 4c10cb5b8efe
Step 13/33 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> e2d2404745c9
Step 14/33 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> af7b142c55ad
Step 15/33 : RUN curl --insecure -OL 'https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip'
 ---> Using cache
 ---> 84711f35c394
Step 16/33 : RUN mkdir sonar_scanner
 ---> Using cache
 ---> 7eb6fc36c01d
Step 17/33 : RUN unzip -d sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 0bf7b72fae3f
Step 18/33 : RUN mv sonar_scanner/* sonar_home
 ---> Using cache
 ---> 69d2a57d72fe
Step 19/33 : RUN rm -rf sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 9fb837b2490c
Step 20/33 : ENV SONAR_RUNNER_HOME=/home/app/sonar_home
 ---> Using cache
 ---> eb257813ac00
Step 21/33 : ENV PATH ${SONAR_RUNNER_HOME}/bin:$PATH
 ---> Using cache
 ---> 8356172cd398
Step 22/33 : RUN sed -i 's/use_embedded_jre=true/use_embedded_jre=false/g' sonar_home/bin/sonar-scanner
 ---> Using cache
 ---> 7de2064ae73c
Step 23/33 : RUN java -version
 ---> Using cache
 ---> 99fce17e1245
Step 24/33 : RUN CI=true npm install cypress
 ---> Using cache
 ---> 9e31249af98a
Step 25/33 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 07ec31a817ff
Step 26/33 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> e1afe9a005fa
Step 27/33 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> 79dcd2ebc09e
Step 28/33 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> 0ad4f5a66274
Step 29/33 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 8098a1fd76d3
Step 30/33 : COPY web-client/package.json /home/app/web-client/package.json
 ---> Using cache
 ---> 39f53871d7dd
Step 31/33 : RUN cd /home/app/web-client && npm i
 ---> Using cache
 ---> a32d7597406a
Step 32/33 : COPY . /home/app
 ---> e4e24600a7fa
Step 33/33 : CMD echo "please overwrite this command"
 ---> Running in 9aa450cf5c32
Removing intermediate container 9aa450cf5c32
 ---> c20ccea4daca
Successfully built c20ccea4daca
Successfully tagged web-client-build:latest
=== npm audit security report ===                        
                                                                                
found 0 vulnerabilities
 in 41519 scanned packages
Sending build context to Docker daemon  2.854MB
Step 1/33 : FROM cypress/base:8
 ---> 06858f2f01aa
Step 2/33 : WORKDIR /home/app
 ---> Using cache
 ---> 8947c5a7b87c
Step 3/33 : RUN echo "deb http://http.debian.net/debian jessie-backports main" >> /etc/apt/sources.list
 ---> Using cache
 ---> d82b33a44845
Step 4/33 : RUN apt-get update
 ---> Using cache
 ---> fc5d6ea9df92
Step 5/33 : RUN apt-get install -y -t jessie-backports openjdk-8-jdk
 ---> Using cache
 ---> f657529d2934
Step 6/33 : RUN apt-get install -yq git bash
 ---> Using cache
 ---> 06db5aa0feb9
Step 7/33 : RUN apt-get update &&     apt-get install -yq gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3     libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4     libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1     libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6     ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
 ---> Using cache
 ---> 2b280034c8bf
Step 8/33 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 6e70eccc0a94
Step 9/33 : RUN apt-get install -yq openssh-client python python-pip python-setuptools ca-certificates groff less
 ---> Using cache
 ---> ea46c9290773
Step 10/33 : RUN apt-get install -yq unzip wget
 ---> Using cache
 ---> 1e62c1472b06
Step 11/33 : RUN apt-get install -y awscli
 ---> Using cache
 ---> 5a163dfe4367
Step 12/33 : RUN apt-get install -y jq
 ---> Using cache
 ---> 4c10cb5b8efe
Step 13/33 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> e2d2404745c9
Step 14/33 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> af7b142c55ad
Step 15/33 : RUN curl --insecure -OL 'https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip'
 ---> Using cache
 ---> 84711f35c394
Step 16/33 : RUN mkdir sonar_scanner
 ---> Using cache
 ---> 7eb6fc36c01d
Step 17/33 : RUN unzip -d sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 0bf7b72fae3f
Step 18/33 : RUN mv sonar_scanner/* sonar_home
 ---> Using cache
 ---> 69d2a57d72fe
Step 19/33 : RUN rm -rf sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 9fb837b2490c
Step 20/33 : ENV SONAR_RUNNER_HOME=/home/app/sonar_home
 ---> Using cache
 ---> eb257813ac00
Step 21/33 : ENV PATH ${SONAR_RUNNER_HOME}/bin:$PATH
 ---> Using cache
 ---> 8356172cd398
Step 22/33 : RUN sed -i 's/use_embedded_jre=true/use_embedded_jre=false/g' sonar_home/bin/sonar-scanner
 ---> Using cache
 ---> 7de2064ae73c
Step 23/33 : RUN java -version
 ---> Using cache
 ---> 99fce17e1245
Step 24/33 : RUN CI=true npm install cypress
 ---> Using cache
 ---> 9e31249af98a
Step 25/33 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 07ec31a817ff
Step 26/33 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> e1afe9a005fa
Step 27/33 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> 79dcd2ebc09e
Step 28/33 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> 0ad4f5a66274
Step 29/33 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 8098a1fd76d3
Step 30/33 : COPY web-client/package.json /home/app/web-client/package.json
 ---> Using cache
 ---> 39f53871d7dd
Step 31/33 : RUN cd /home/app/web-client && npm i
 ---> Using cache
 ---> a32d7597406a
Step 32/33 : COPY . /home/app
 ---> fc98a2a67d18
Step 33/33 : CMD echo "please overwrite this command"
 ---> Running in 87d9a5c697c8
Removing intermediate container 87d9a5c697c8
 ---> bdb6554061f7
Successfully built bdb6554061f7
Successfully tagged web-client-build:latest

> ef-cms-web-client@1.0.0 lint /home/app/web-client
> eslint ./src && stylelint ./src/**/*.scss

~/Workspace/ef-cms
~/Workspace/ef-cms/efcms-service ~/Workspace/ef-cms
Sending build context to Docker daemon  2.858MB
Step 1/17 : FROM koalaman/shellcheck-alpine as shellcheck
 ---> eaba0754400e
Step 2/17 : FROM node:8-alpine
 ---> dc30b65a4cfe
Step 3/17 : COPY --from=shellcheck /bin/shellcheck /bin/shellcheck
 ---> Using cache
 ---> 0e8ff536881c
Step 4/17 : RUN apk add git
 ---> Using cache
 ---> c78562208d88
Step 5/17 : RUN apk add bash
 ---> Using cache
 ---> 600705dd433c
Step 6/17 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 640c5d816cbb
Step 7/17 : RUN apk --no-cache update &&     apk --no-cache add openjdk8-jre python py-pip py-setuptools ca-certificates groff less &&     apk --no-cache add bash git openssh &&     pip install --upgrade pip &&     pip --no-cache-dir install awscli==${AWS_CLI_VERSION} &&     rm -rf /var/cache/apk/*
 ---> Using cache
 ---> 7342cb42f466
Step 8/17 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> c2c89a850698
Step 9/17 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> e40fe71fb369
Step 10/17 : WORKDIR /home/app
 ---> Using cache
 ---> c8a50e100f77
Step 11/17 : RUN git config --global user.email "blank@example.com" &&     git config --global user.name "local" &&     git init &&     touch tmp.txt &&     git add tmp.txt &&     git commit -m 'rev'
 ---> Using cache
 ---> 82fc0134e55f
Step 12/17 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> 46a4b5b747e7
Step 13/17 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> ee6cadc11db6
Step 14/17 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> e4cc1c5eb0e6
Step 15/17 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 0227ee1be93b
Step 16/17 : COPY . /home/app
 ---> beacbee502f8
Step 17/17 : CMD echo "please overwrite this command"
 ---> Running in f1468889b4d2
Removing intermediate container f1468889b4d2
 ---> cf3641906814
Successfully built cf3641906814
Successfully tagged efcms-build:latest
init completed
Sending build context to Docker daemon  2.861MB
Step 1/17 : FROM koalaman/shellcheck-alpine as shellcheck
 ---> eaba0754400e
Step 2/17 : FROM node:8-alpine
 ---> dc30b65a4cfe
Step 3/17 : COPY --from=shellcheck /bin/shellcheck /bin/shellcheck
 ---> Using cache
 ---> 0e8ff536881c
Step 4/17 : RUN apk add git
 ---> Using cache
 ---> c78562208d88
Step 5/17 : RUN apk add bash
 ---> Using cache
 ---> 600705dd433c
Step 6/17 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 640c5d816cbb
Step 7/17 : RUN apk --no-cache update &&     apk --no-cache add openjdk8-jre python py-pip py-setuptools ca-certificates groff less &&     apk --no-cache add bash git openssh &&     pip install --upgrade pip &&     pip --no-cache-dir install awscli==${AWS_CLI_VERSION} &&     rm -rf /var/cache/apk/*
 ---> Using cache
 ---> 7342cb42f466
Step 8/17 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> c2c89a850698
Step 9/17 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> e40fe71fb369
Step 10/17 : WORKDIR /home/app
 ---> Using cache
 ---> c8a50e100f77
Step 11/17 : RUN git config --global user.email "blank@example.com" &&     git config --global user.name "local" &&     git init &&     touch tmp.txt &&     git add tmp.txt &&     git commit -m 'rev'
 ---> Using cache
 ---> 82fc0134e55f
Step 12/17 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> 46a4b5b747e7
Step 13/17 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> ee6cadc11db6
Step 14/17 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> e4cc1c5eb0e6
Step 15/17 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 0227ee1be93b
Step 16/17 : COPY . /home/app
 ---> 32be552735a7
Step 17/17 : CMD echo "please overwrite this command"
 ---> Running in d5df7848b906
Removing intermediate container d5df7848b906
 ---> a4e04a01e4f7
Successfully built a4e04a01e4f7
Successfully tagged efcms-build:latest
Sending build context to Docker daemon  2.863MB
Step 1/17 : FROM koalaman/shellcheck-alpine as shellcheck
 ---> eaba0754400e
Step 2/17 : FROM node:8-alpine
 ---> dc30b65a4cfe
Step 3/17 : COPY --from=shellcheck /bin/shellcheck /bin/shellcheck
 ---> Using cache
 ---> 0e8ff536881c
Step 4/17 : RUN apk add git
 ---> Using cache
 ---> c78562208d88
Step 5/17 : RUN apk add bash
 ---> Using cache
 ---> 600705dd433c
Step 6/17 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 640c5d816cbb
Step 7/17 : RUN apk --no-cache update &&     apk --no-cache add openjdk8-jre python py-pip py-setuptools ca-certificates groff less &&     apk --no-cache add bash git openssh &&     pip install --upgrade pip &&     pip --no-cache-dir install awscli==${AWS_CLI_VERSION} &&     rm -rf /var/cache/apk/*
 ---> Using cache
 ---> 7342cb42f466
Step 8/17 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> c2c89a850698
Step 9/17 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> e40fe71fb369
Step 10/17 : WORKDIR /home/app
 ---> Using cache
 ---> c8a50e100f77
Step 11/17 : RUN git config --global user.email "blank@example.com" &&     git config --global user.name "local" &&     git init &&     touch tmp.txt &&     git add tmp.txt &&     git commit -m 'rev'
 ---> Using cache
 ---> 82fc0134e55f
Step 12/17 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> 46a4b5b747e7
Step 13/17 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> ee6cadc11db6
Step 14/17 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> e4cc1c5eb0e6
Step 15/17 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 0227ee1be93b
Step 16/17 : COPY . /home/app
 ---> cce78378af4b
Step 17/17 : CMD echo "please overwrite this command"
 ---> Running in 0611a724e6c6
Removing intermediate container 0611a724e6c6
 ---> 7f88b5586c06
Successfully built 7f88b5586c06
Successfully tagged efcms-build:latest
=== npm audit security report ===                        
                                                                                
found 0 vulnerabilities
 in 3622 scanned packages
Sending build context to Docker daemon  2.865MB
Step 1/17 : FROM koalaman/shellcheck-alpine as shellcheck
 ---> eaba0754400e
Step 2/17 : FROM node:8-alpine
 ---> dc30b65a4cfe
Step 3/17 : COPY --from=shellcheck /bin/shellcheck /bin/shellcheck
 ---> Using cache
 ---> 0e8ff536881c
Step 4/17 : RUN apk add git
 ---> Using cache
 ---> c78562208d88
Step 5/17 : RUN apk add bash
 ---> Using cache
 ---> 600705dd433c
Step 6/17 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 640c5d816cbb
Step 7/17 : RUN apk --no-cache update &&     apk --no-cache add openjdk8-jre python py-pip py-setuptools ca-certificates groff less &&     apk --no-cache add bash git openssh &&     pip install --upgrade pip &&     pip --no-cache-dir install awscli==${AWS_CLI_VERSION} &&     rm -rf /var/cache/apk/*
 ---> Using cache
 ---> 7342cb42f466
Step 8/17 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> c2c89a850698
Step 9/17 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> e40fe71fb369
Step 10/17 : WORKDIR /home/app
 ---> Using cache
 ---> c8a50e100f77
Step 11/17 : RUN git config --global user.email "blank@example.com" &&     git config --global user.name "local" &&     git init &&     touch tmp.txt &&     git add tmp.txt &&     git commit -m 'rev'
 ---> Using cache
 ---> 82fc0134e55f
Step 12/17 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> 46a4b5b747e7
Step 13/17 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> ee6cadc11db6
Step 14/17 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> e4cc1c5eb0e6
Step 15/17 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 0227ee1be93b
Step 16/17 : COPY . /home/app
 ---> 30f01074efc1
Step 17/17 : CMD echo "please overwrite this command"
 ---> Running in 4376f250f72e
Removing intermediate container 4376f250f72e
 ---> 88c6a7bfdcd9
Successfully built 88c6a7bfdcd9
Successfully tagged efcms-build:latest

> efcms-service@0.1.0 lint /home/app/efcms-service
> eslint ./src/**/*.js

Sending build context to Docker daemon  2.867MB
Step 1/17 : FROM koalaman/shellcheck-alpine as shellcheck
 ---> eaba0754400e
Step 2/17 : FROM node:8-alpine
 ---> dc30b65a4cfe
Step 3/17 : COPY --from=shellcheck /bin/shellcheck /bin/shellcheck
 ---> Using cache
 ---> 0e8ff536881c
Step 4/17 : RUN apk add git
 ---> Using cache
 ---> c78562208d88
Step 5/17 : RUN apk add bash
 ---> Using cache
 ---> 600705dd433c
Step 6/17 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 640c5d816cbb
Step 7/17 : RUN apk --no-cache update &&     apk --no-cache add openjdk8-jre python py-pip py-setuptools ca-certificates groff less &&     apk --no-cache add bash git openssh &&     pip install --upgrade pip &&     pip --no-cache-dir install awscli==${AWS_CLI_VERSION} &&     rm -rf /var/cache/apk/*
 ---> Using cache
 ---> 7342cb42f466
Step 8/17 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> c2c89a850698
Step 9/17 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> e40fe71fb369
Step 10/17 : WORKDIR /home/app
 ---> Using cache
 ---> c8a50e100f77
Step 11/17 : RUN git config --global user.email "blank@example.com" &&     git config --global user.name "local" &&     git init &&     touch tmp.txt &&     git add tmp.txt &&     git commit -m 'rev'
 ---> Using cache
 ---> 82fc0134e55f
Step 12/17 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> 46a4b5b747e7
Step 13/17 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> ee6cadc11db6
Step 14/17 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> e4cc1c5eb0e6
Step 15/17 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 0227ee1be93b
Step 16/17 : COPY . /home/app
 ---> 053072d69275
Step 17/17 : CMD echo "please overwrite this command"
 ---> Running in 0f6fc4253379
Removing intermediate container 0f6fc4253379
 ---> bccc6ad58a5f
Successfully built bccc6ad58a5f
Successfully tagged efcms-build:latest

> efcms-service@0.1.0 test /home/app/efcms-service
> nyc -a mocha --exit './src/**/*.test.js'



  handle
    ✓ should return an object representing an 200 status back if the callback function executes successfully
    ✓ should return an object representing an 404 status if the function returns a NotFoundError
    ✓ should return an object representing an 403 status if the function returns an UnauthorizedError
    ✓ should return an object representing an 400 status if the function returns an Error

  getAuthHeader
    ✓ should return the user token from the authorization header
    ✓ should return the user token from the authorization header (lowercase a in authorization)
    ✓ should return the user token from the Authorization header
    ✓ should return the user token from the Authorization header


  8 passing (22ms)

---------------------|----------|----------|----------|----------|-------------------|
File                 |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
---------------------|----------|----------|----------|----------|-------------------|
All files            |      100 |      100 |      100 |      100 |                   |
 apiGatewayHelper.js |      100 |      100 |      100 |      100 |                   |
---------------------|----------|----------|----------|----------|-------------------|

=============================== Coverage summary ===============================
Statements   : 100% ( 26/26 )
Branches     : 100% ( 16/16 )
Functions    : 100% ( 4/4 )
Lines        : 100% ( 26/26 )
================================================================================
efcmstest
~/Workspace/ef-cms
Sending build context to Docker daemon  2.871MB
Step 1/33 : FROM cypress/base:8
 ---> 06858f2f01aa
Step 2/33 : WORKDIR /home/app
 ---> Using cache
 ---> 8947c5a7b87c
Step 3/33 : RUN echo "deb http://http.debian.net/debian jessie-backports main" >> /etc/apt/sources.list
 ---> Using cache
 ---> d82b33a44845
Step 4/33 : RUN apt-get update
 ---> Using cache
 ---> fc5d6ea9df92
Step 5/33 : RUN apt-get install -y -t jessie-backports openjdk-8-jdk
 ---> Using cache
 ---> f657529d2934
Step 6/33 : RUN apt-get install -yq git bash
 ---> Using cache
 ---> 06db5aa0feb9
Step 7/33 : RUN apt-get update &&     apt-get install -yq gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3     libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4     libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1     libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6     ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
 ---> Using cache
 ---> 2b280034c8bf
Step 8/33 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 6e70eccc0a94
Step 9/33 : RUN apt-get install -yq openssh-client python python-pip python-setuptools ca-certificates groff less
 ---> Using cache
 ---> ea46c9290773
Step 10/33 : RUN apt-get install -yq unzip wget
 ---> Using cache
 ---> 1e62c1472b06
Step 11/33 : RUN apt-get install -y awscli
 ---> Using cache
 ---> 5a163dfe4367
Step 12/33 : RUN apt-get install -y jq
 ---> Using cache
 ---> 4c10cb5b8efe
Step 13/33 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> e2d2404745c9
Step 14/33 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> af7b142c55ad
Step 15/33 : RUN curl --insecure -OL 'https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip'
 ---> Using cache
 ---> 84711f35c394
Step 16/33 : RUN mkdir sonar_scanner
 ---> Using cache
 ---> 7eb6fc36c01d
Step 17/33 : RUN unzip -d sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 0bf7b72fae3f
Step 18/33 : RUN mv sonar_scanner/* sonar_home
 ---> Using cache
 ---> 69d2a57d72fe
Step 19/33 : RUN rm -rf sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 9fb837b2490c
Step 20/33 : ENV SONAR_RUNNER_HOME=/home/app/sonar_home
 ---> Using cache
 ---> eb257813ac00
Step 21/33 : ENV PATH ${SONAR_RUNNER_HOME}/bin:$PATH
 ---> Using cache
 ---> 8356172cd398
Step 22/33 : RUN sed -i 's/use_embedded_jre=true/use_embedded_jre=false/g' sonar_home/bin/sonar-scanner
 ---> Using cache
 ---> 7de2064ae73c
Step 23/33 : RUN java -version
 ---> Using cache
 ---> 99fce17e1245
Step 24/33 : RUN CI=true npm install cypress
 ---> Using cache
 ---> 9e31249af98a
Step 25/33 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 07ec31a817ff
Step 26/33 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> e1afe9a005fa
Step 27/33 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> 79dcd2ebc09e
Step 28/33 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> 0ad4f5a66274
Step 29/33 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 8098a1fd76d3
Step 30/33 : COPY web-client/package.json /home/app/web-client/package.json
 ---> Using cache
 ---> 39f53871d7dd
Step 31/33 : RUN cd /home/app/web-client && npm i
 ---> Using cache
 ---> a32d7597406a
Step 32/33 : COPY . /home/app
 ---> bb4e1e33044c
Step 33/33 : CMD echo "please overwrite this command"
 ---> Running in 46ba9ac98053
Removing intermediate container 46ba9ac98053
 ---> 066f8627a8f5
Successfully built 066f8627a8f5
Successfully tagged pa11y:latest

> efcms-service@0.1.0 install:dynamodb /home/app/efcms-service
> sls dynamodb install -s local -r us-east-1 --domain noop --accountId noop --documentsTableName efcms-documents-local --efcmsTableName=efcms-local | grep -v -e '^$'

 
 Serverless Warning --------------------------------------
 
  A valid environment variable to satisfy the declaration 'env:SLS_DEPLOYMENT_BUCKET' could not be found.
 
 
 Serverless Warning --------------------------------------
 
  A valid environment variable to satisfy the declaration 'env:SLS_DEPLOYMENT_BUCKET' could not be found.
 
Started downloading Dynamodb-local. Process may take few minutes.
 Installation complete!
Found code 000

> efcms-service@0.1.0 start /home/app/efcms-service
> (../wait-until.sh http://localhost:3000/v1/swagger && npm run create-tables && npm run seed:db && npm run seed:s3) & npm run start:local

Found code 000

> efcms-service@0.1.0 start:local /home/app/efcms-service
> AWS_ACCESS_KEY_ID=noop AWS_SECRET_ACCESS_KEY=noop SLS_DEPLOYMENT_BUCKET=noop sls offline start --noTimeout --stage local --region us-east-1 --domain noop --documentsTableName efcms-documents-local  --efcmsTableName=efcms-local --accountId noop

Dynamodb Local Started, Visit: http://localhost:8000/shell
starting handler
client s3event object
S3 local started ( port:9000 )
Serverless: creating bucket: noop-documents-local-us-east-1
[32minfo[39m: [S3rver] PUT /noop-documents-local-us-east-1 409 174 - 8.057 ms
Serverless: Starting Offline: local/us-east-1.

Serverless: Routes for getUploadPolicy:
Serverless: GET /v1/documents/uploadPolicy

Serverless: Routes for getDownloadPolicyUrl:
Serverless: GET /v1/documents/{documentId}/downloadPolicyUrl

Serverless: Routes for updateCase:
Serverless: PUT /v1/cases/{caseId}

Serverless: Routes for createCase:
Serverless: POST /v1/cases

Serverless: Routes for getCases:
Serverless: GET /v1/cases

Serverless: Routes for getCase:
Serverless: GET /v1/cases/{caseId}

Serverless: Routes for sendToIRS:
Serverless: POST /v1/cases/{caseId}/irsPetitionPackage

Serverless: Routes for getWorkItem:
Serverless: GET /v1/workitems/{workItemId}

Serverless: Routes for updateWorkItem:
Serverless: PUT /v1/workitems/{workItemId}

Serverless: Routes for getWorkItems:
Serverless: GET /v1/workitems

Serverless: Routes for swagger:
Serverless: GET /v1/swagger

Serverless: Offline listening on http://0.0.0.0:3000

Serverless: GET /v1/swagger (λ: swagger)
Serverless: The first request might take a few extra seconds
Serverless: [200] {"statusCode":"200","body":"<html>\n      <body>\n        <head>\n          <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui.css\">\n        </head>\n        <div id=\"swagger\"></div>\n        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui-bundle.js\"></script>\n        <script>\n          SwaggerUIBundle({\n            dom_id: '#swagger',\n            spec: {\"swagger\":\"2.0\",\"info\":{\"description\":\"Documents API for U.S. Tax Court EF-CMS\",\"version\":\"2018-11-09T22:05:06Z\",\"title\":\"will-ef-cms\",\"contact\":{\"url\":\"https://www.ustaxcourt.gov\",\"email\":\"webmaster@ustaxcourt.gov\"},\"license\":{\"name\":\"Creative Commons 0\",\"url\":\"https://creativecommons.org/share-your-work/public-domain/cc0/\"}},\"host\":\"efcms-dev.ustc-case-mgmt.flexion.us\",\"tags\":[{\"name\":\"ef-cms\",\"description\":\"EF-CMS\"},{\"name\":\"documents\",\"description\":\"document service\"}],\"schemes\":[\"https\"],\"paths\":{\"/v1/cases\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get all cases for a user\",\"description\":\"Get all cases for a user.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"post\":{\"tags\":[\"cases\"],\"summary\":\"create a case\",\"description\":\"Create a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/cases/{caseId}\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get a case by caseId\",\"description\":\"Get a case by caseId.\\n\",\"produces\":[\"application/json\"],\"parameters\":[{\"name\":\"caseId\",\"in\":\"path\",\"required\":true,\"type\":\"string\"}],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"put\":{\"tags\":[\"cases\"],\"summary\":\"update a case\",\"description\":\"Update a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}},\"422\":{\"description\":\"422 response\",\"schema\":{\"$ref\":\"#/definitions/unprocessableEntityError\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents\":{\"post\":{\"tags\":[\"documents\"],\"summary\":\"create a document\",\"description\":\"Create a document.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/document\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/uploadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for uploads\",\"description\":\"Create a pre-signed url for document uploads to S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/{documentId}/downloadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for downloads\",\"description\":\"Create a pre-signed url for document downloads from S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/swagger\":{\"get\":{\"responses\":{}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}}},\"definitions\":{\"policyUrl\":{\"type\":\"object\",\"properties\":{\"fields\":{\"$ref\":\"#/definitions/fields\"},\"url\":{\"type\":\"string\",\"description\":\"url\"}},\"description\":\"a policy url response\"},\"document\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date document created\"},\"documentType\":{\"type\":\"string\",\"description\":\"type of this document\"},\"documentId\":{\"type\":\"string\",\"description\":\"id of document\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the document\"}},\"description\":\"a document response\"},\"unprocessableEntityError\":{\"type\":\"object\",\"required\":[\"message\"],\"properties\":{\"message\":{\"type\":\"string\"}},\"description\":\"a unprocessable entity error (422), due to a problem in the body or the id in the url\"},\"fields\":{\"type\":\"object\",\"properties\":{\"bucket\":{\"type\":\"string\",\"description\":\"The bucket name.\"},\"Policy\":{\"type\":\"string\",\"description\":\"The policy.\"},\"X-Amz-Date\":{\"type\":\"string\",\"description\":\"The date.\"},\"X-Amz-Algorithm\":{\"type\":\"string\",\"description\":\"The algorithm.\"},\"X-Amz-Signature\":{\"type\":\"string\",\"description\":\"The signature.\"},\"X-Amz-Security-Token\":{\"type\":\"string\",\"description\":\"The security token.\"},\"X-Amz-Credential\":{\"type\":\"string\",\"description\":\"The credential.\"}},\"description\":\"a policy url response\"},\"case\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date case created\"},\"documents\":{\"type\":\"array\",\"description\":\"array of document ids and types associated with the case\",\"items\":{\"type\":\"object\",\"properties\":{\"documentType\":{\"type\":\"string\"},\"documentId\":{\"type\":\"string\"}}}},\"caseId\":{\"type\":\"string\",\"description\":\"id of case\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the case\"}},\"description\":\"a case response\"}}}\n          });\n        </script>\n      </body>\n    </html>","headers":{"Content-Type":"text/html","Access-Control-Allow-Origin":"*"}}
Found code 200
Found code 000

Serverless: GET /v1/swagger (λ: swagger)
Serverless: [200] {"statusCode":"200","body":"<html>\n      <body>\n        <head>\n          <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui.css\">\n        </head>\n        <div id=\"swagger\"></div>\n        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui-bundle.js\"></script>\n        <script>\n          SwaggerUIBundle({\n            dom_id: '#swagger',\n            spec: {\"swagger\":\"2.0\",\"info\":{\"description\":\"Documents API for U.S. Tax Court EF-CMS\",\"version\":\"2018-11-09T22:05:06Z\",\"title\":\"will-ef-cms\",\"contact\":{\"url\":\"https://www.ustaxcourt.gov\",\"email\":\"webmaster@ustaxcourt.gov\"},\"license\":{\"name\":\"Creative Commons 0\",\"url\":\"https://creativecommons.org/share-your-work/public-domain/cc0/\"}},\"host\":\"efcms-dev.ustc-case-mgmt.flexion.us\",\"tags\":[{\"name\":\"ef-cms\",\"description\":\"EF-CMS\"},{\"name\":\"documents\",\"description\":\"document service\"}],\"schemes\":[\"https\"],\"paths\":{\"/v1/cases\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get all cases for a user\",\"description\":\"Get all cases for a user.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"post\":{\"tags\":[\"cases\"],\"summary\":\"create a case\",\"description\":\"Create a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/cases/{caseId}\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get a case by caseId\",\"description\":\"Get a case by caseId.\\n\",\"produces\":[\"application/json\"],\"parameters\":[{\"name\":\"caseId\",\"in\":\"path\",\"required\":true,\"type\":\"string\"}],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"put\":{\"tags\":[\"cases\"],\"summary\":\"update a case\",\"description\":\"Update a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}},\"422\":{\"description\":\"422 response\",\"schema\":{\"$ref\":\"#/definitions/unprocessableEntityError\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents\":{\"post\":{\"tags\":[\"documents\"],\"summary\":\"create a document\",\"description\":\"Create a document.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/document\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/uploadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for uploads\",\"description\":\"Create a pre-signed url for document uploads to S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/{documentId}/downloadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for downloads\",\"description\":\"Create a pre-signed url for document downloads from S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/swagger\":{\"get\":{\"responses\":{}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}}},\"definitions\":{\"policyUrl\":{\"type\":\"object\",\"properties\":{\"fields\":{\"$ref\":\"#/definitions/fields\"},\"url\":{\"type\":\"string\",\"description\":\"url\"}},\"description\":\"a policy url response\"},\"document\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date document created\"},\"documentType\":{\"type\":\"string\",\"description\":\"type of this document\"},\"documentId\":{\"type\":\"string\",\"description\":\"id of document\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the document\"}},\"description\":\"a document response\"},\"unprocessableEntityError\":{\"type\":\"object\",\"required\":[\"message\"],\"properties\":{\"message\":{\"type\":\"string\"}},\"description\":\"a unprocessable entity error (422), due to a problem in the body or the id in the url\"},\"fields\":{\"type\":\"object\",\"properties\":{\"bucket\":{\"type\":\"string\",\"description\":\"The bucket name.\"},\"Policy\":{\"type\":\"string\",\"description\":\"The policy.\"},\"X-Amz-Date\":{\"type\":\"string\",\"description\":\"The date.\"},\"X-Amz-Algorithm\":{\"type\":\"string\",\"description\":\"The algorithm.\"},\"X-Amz-Signature\":{\"type\":\"string\",\"description\":\"The signature.\"},\"X-Amz-Security-Token\":{\"type\":\"string\",\"description\":\"The security token.\"},\"X-Amz-Credential\":{\"type\":\"string\",\"description\":\"The credential.\"}},\"description\":\"a policy url response\"},\"case\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date case created\"},\"documents\":{\"type\":\"array\",\"description\":\"array of document ids and types associated with the case\",\"items\":{\"type\":\"object\",\"properties\":{\"documentType\":{\"type\":\"string\"},\"documentId\":{\"type\":\"string\"}}}},\"caseId\":{\"type\":\"string\",\"description\":\"id of case\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the case\"}},\"description\":\"a case response\"}}}\n          });\n        </script>\n      </body>\n    </html>","headers":{"Content-Type":"text/html","Access-Control-Allow-Origin":"*"}}
Found code 200

> ef-cms-web-client@1.0.0 dev /home/app/web-client
> USTC_ENV=dev parcel --no-cache --no-hmr src/index.pug


> efcms-service@0.1.0 create-tables /home/app/efcms-service
> AWS_ACCESS_KEY_ID=noop AWS_SECRET_ACCESS_KEY=noop node create-dynamo-tables.js

Server running at http://localhost:1234 
Creating Documents Table
Creating EFCMS Table

> efcms-service@0.1.0 seed:db /home/app/efcms-service
> AWS_ACCESS_KEY_ID=noop AWS_SECRET_ACCESS_KEY=noop SLS_DEPLOYMENT_BUCKET=noop sls dynamodb seed --seed test --noTimeout --stage local --region us-east-1 --domain noop --documentsTableName efcms-documents-local  --efcmsTableName=efcms-local --accountId noop

Seed running complete for table: efcms-documents-local
Seed running complete for table: efcms-local

> efcms-service@0.1.0 seed:s3 /home/app/efcms-service
> rm -rf storage/s3/noop-documents-local-us-east-1 && cp -R storage/fixtures/s3/ storage/s3/noop-documents-local-us-east-1

⚠️  Could not load source file "../../src/fluent/index.ts" in source map of "../node_modules/function-tree/es/fluent/index.js".
✨  Built in 9.27s.
Found code 200

> ef-cms-web-client@1.0.0 test:pa11y /home/app/web-client
> pa11y-ci --config pa11y-ci.config.json

Running Pa11y on 16 URLs:
 > http://localhost:1234/log-in - 0 errors
 > http://localhost:1234/ - 0 errors

Serverless: GET /v1/cases (λ: getCases)
Serverless: The first request might take a few extra seconds

Serverless: GET /v1/cases/101-18 (λ: getCase)
Serverless: The first request might take a few extra seconds
Serverless: [200] {"statusCode":"200","body":"{\"documents\":[{\"createdAt\":\"2018-12-31T15:44:42.798Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:42.798Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:42.798Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:42.798Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
Serverless: [200] {"statusCode":"200","body":"[{\"documents\":[{\"createdAt\":\"2018-12-31T15:44:42.812Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:42.812Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:42.812Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:42.812Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"},{\"createdAt\":\"2018-11-21T20:58:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:44:42.813Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:42.813Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:42.813Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"}],\"caseId\":\"3a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"103-18\",\"status\":\"new\"},{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:44:42.813Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:42.813Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:42.813Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"}],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\"}]","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
 > http://localhost:1234/log-in?token=taxpayer&path=/case-detail/101-18 - 0 errors
 > http://localhost:1234/log-in?token=taxpayer&path=/ - 0 errors

Serverless: GET /v1/cases (λ: getCases)

Serverless: GET /v1/cases/101-18 (λ: getCase)
Serverless: [200] {"statusCode":"200","body":"[{\"createdAt\":\"2018-11-21T20:58:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:44:43.330Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:43.330Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:43.330Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"}],\"caseId\":\"3a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"103-18\",\"status\":\"new\"},{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:44:43.330Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:43.330Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:43.330Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"}],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\"}]","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
Serverless: [200] {"statusCode":"200","body":"{\"documents\":[{\"createdAt\":\"2018-12-31T15:44:43.357Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:43.357Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:43.357Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:43.357Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
 > http://localhost:1234/log-in?token=petitionsclerk&path=/ - 0 errors
 > http://localhost:1234/log-in?token=petitionsclerk&path=/case-detail/101-18 - 0 errors

Serverless: GET /v1/cases/102-18 (λ: getCase)
Serverless: [200] {"statusCode":"200","body":"{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:44:44.502Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:44.502Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:44:44.502Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"}],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
 > http://localhost:1234/log-in?token=intakeclerk&path=/ - 0 errors
 > http://localhost:1234/log-in?token=petitionsclerk&path=/case-detail/102-18&info=can-input-pay-id - 0 errors

Serverless: GET /v1/cases/101-18 (λ: getCase)
Serverless: [200] {"statusCode":"200","body":"{\"documents\":[{\"createdAt\":\"2018-12-31T15:44:45.657Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:45.657Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:45.657Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:45.657Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}

Serverless: GET /v1/cases (λ: getCases)
Serverless: [200] {"statusCode":"200","body":"[{\"documents\":[{\"createdAt\":\"2018-12-31T15:44:45.717Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:45.717Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:45.717Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:45.717Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"}]","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
 > http://localhost:1234/log-in?token=intakeclerk&path=/case-detail/101-18 - 0 errors
 > http://localhost:1234/log-in?token=respondent&path=/ - 0 errors

Serverless: GET /v1/cases/101-18 (λ: getCase)
Serverless: [200] {"statusCode":"200","body":"{\"documents\":[{\"createdAt\":\"2018-12-31T15:44:46.765Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:46.765Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:46.765Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:46.765Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}

Serverless: GET /v1/cases/101-18 (λ: getCase)
Serverless: [200] {"statusCode":"200","body":"{\"documents\":[{\"createdAt\":\"2018-12-31T15:44:46.806Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:46.806Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:46.806Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:46.806Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
 > http://localhost:1234/log-in?token=respondent&path=/case-detail/101-18 - 0 errors
 > http://localhost:1234/log-in?token=respondent&path=/case-detail/101-18&info=can-file-document - 0 errors

Serverless: GET /v1/cases/101-18 (λ: getCase)
Serverless: [200] {"statusCode":"200","body":"{\"documents\":[{\"createdAt\":\"2018-12-31T15:44:48.002Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:48.002Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:48.002Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:48.002Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
 > http://localhost:1234/log-in?token=docketclerk&path=/ - 0 errors
 > http://localhost:1234/log-in?token=docketclerk&path=/case-detail/101-18 - 0 errors

Serverless: GET /v1/cases/101-18 (λ: getCase)
Serverless: [200] {"statusCode":"200","body":"{\"documents\":[{\"createdAt\":\"2018-12-31T15:44:49.118Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:49.118Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:49.118Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:44:49.118Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
 > http://localhost:1234/log-in?token=seniorattorney&path=/ - 0 errors
 > http://localhost:1234/log-in?token=seniorattorney&path=/case-detail/101-18 - 0 errors

✔ 16/16 URLs passed
Sending build context to Docker daemon  2.919MB
Step 1/33 : FROM cypress/base:8
 ---> 06858f2f01aa
Step 2/33 : WORKDIR /home/app
 ---> Using cache
 ---> 8947c5a7b87c
Step 3/33 : RUN echo "deb http://http.debian.net/debian jessie-backports main" >> /etc/apt/sources.list
 ---> Using cache
 ---> d82b33a44845
Step 4/33 : RUN apt-get update
 ---> Using cache
 ---> fc5d6ea9df92
Step 5/33 : RUN apt-get install -y -t jessie-backports openjdk-8-jdk
 ---> Using cache
 ---> f657529d2934
Step 6/33 : RUN apt-get install -yq git bash
 ---> Using cache
 ---> 06db5aa0feb9
Step 7/33 : RUN apt-get update &&     apt-get install -yq gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3     libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4     libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1     libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6     ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
 ---> Using cache
 ---> 2b280034c8bf
Step 8/33 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 6e70eccc0a94
Step 9/33 : RUN apt-get install -yq openssh-client python python-pip python-setuptools ca-certificates groff less
 ---> Using cache
 ---> ea46c9290773
Step 10/33 : RUN apt-get install -yq unzip wget
 ---> Using cache
 ---> 1e62c1472b06
Step 11/33 : RUN apt-get install -y awscli
 ---> Using cache
 ---> 5a163dfe4367
Step 12/33 : RUN apt-get install -y jq
 ---> Using cache
 ---> 4c10cb5b8efe
Step 13/33 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> e2d2404745c9
Step 14/33 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> af7b142c55ad
Step 15/33 : RUN curl --insecure -OL 'https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip'
 ---> Using cache
 ---> 84711f35c394
Step 16/33 : RUN mkdir sonar_scanner
 ---> Using cache
 ---> 7eb6fc36c01d
Step 17/33 : RUN unzip -d sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 0bf7b72fae3f
Step 18/33 : RUN mv sonar_scanner/* sonar_home
 ---> Using cache
 ---> 69d2a57d72fe
Step 19/33 : RUN rm -rf sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 9fb837b2490c
Step 20/33 : ENV SONAR_RUNNER_HOME=/home/app/sonar_home
 ---> Using cache
 ---> eb257813ac00
Step 21/33 : ENV PATH ${SONAR_RUNNER_HOME}/bin:$PATH
 ---> Using cache
 ---> 8356172cd398
Step 22/33 : RUN sed -i 's/use_embedded_jre=true/use_embedded_jre=false/g' sonar_home/bin/sonar-scanner
 ---> Using cache
 ---> 7de2064ae73c
Step 23/33 : RUN java -version
 ---> Using cache
 ---> 99fce17e1245
Step 24/33 : RUN CI=true npm install cypress
 ---> Using cache
 ---> 9e31249af98a
Step 25/33 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 07ec31a817ff
Step 26/33 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> e1afe9a005fa
Step 27/33 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> 79dcd2ebc09e
Step 28/33 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> 0ad4f5a66274
Step 29/33 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 8098a1fd76d3
Step 30/33 : COPY web-client/package.json /home/app/web-client/package.json
 ---> Using cache
 ---> 39f53871d7dd
Step 31/33 : RUN cd /home/app/web-client && npm i
 ---> Using cache
 ---> a32d7597406a
Step 32/33 : COPY . /home/app
 ---> 8149ffb7e984
Step 33/33 : CMD echo "please overwrite this command"
 ---> Running in 20b8cb26a2f6
Removing intermediate container 20b8cb26a2f6
 ---> 5668a4582fce
Successfully built 5668a4582fce
Successfully tagged cerebral:latest

> efcms-service@0.1.0 install:dynamodb /home/app/efcms-service
> sls dynamodb install -s local -r us-east-1 --domain noop --accountId noop --documentsTableName efcms-documents-local --efcmsTableName=efcms-local | grep -v -e '^$'

 
 Serverless Warning --------------------------------------
 
  A valid environment variable to satisfy the declaration 'env:SLS_DEPLOYMENT_BUCKET' could not be found.
 
 
 Serverless Warning --------------------------------------
 
  A valid environment variable to satisfy the declaration 'env:SLS_DEPLOYMENT_BUCKET' could not be found.
 
Started downloading Dynamodb-local. Process may take few minutes.
 Installation complete!
Found code 000

> efcms-service@0.1.0 start /home/app/efcms-service
> (../wait-until.sh http://localhost:3000/v1/swagger && npm run create-tables && npm run seed:db && npm run seed:s3) & npm run start:local

Found code 000

> efcms-service@0.1.0 start:local /home/app/efcms-service
> AWS_ACCESS_KEY_ID=noop AWS_SECRET_ACCESS_KEY=noop SLS_DEPLOYMENT_BUCKET=noop sls offline start --noTimeout --stage local --region us-east-1 --domain noop --documentsTableName efcms-documents-local  --efcmsTableName=efcms-local --accountId noop

Dynamodb Local Started, Visit: http://localhost:8000/shell
starting handler
client s3event object
S3 local started ( port:9000 )
Serverless: creating bucket: noop-documents-local-us-east-1
[32minfo[39m: [S3rver] PUT /noop-documents-local-us-east-1 409 174 - 8.829 ms
Serverless: Starting Offline: local/us-east-1.

Serverless: Routes for getUploadPolicy:
Serverless: GET /v1/documents/uploadPolicy

Serverless: Routes for getDownloadPolicyUrl:
Serverless: GET /v1/documents/{documentId}/downloadPolicyUrl

Serverless: Routes for updateCase:
Serverless: PUT /v1/cases/{caseId}

Serverless: Routes for createCase:
Serverless: POST /v1/cases

Serverless: Routes for getCases:
Serverless: GET /v1/cases

Serverless: Routes for getCase:
Serverless: GET /v1/cases/{caseId}

Serverless: Routes for sendToIRS:
Serverless: POST /v1/cases/{caseId}/irsPetitionPackage

Serverless: Routes for getWorkItem:
Serverless: GET /v1/workitems/{workItemId}

Serverless: Routes for updateWorkItem:
Serverless: PUT /v1/workitems/{workItemId}

Serverless: Routes for getWorkItems:
Serverless: GET /v1/workitems

Serverless: Routes for swagger:
Serverless: GET /v1/swagger

Serverless: Offline listening on http://0.0.0.0:3000

Serverless: GET /v1/swagger (λ: swagger)
Serverless: The first request might take a few extra seconds
Serverless: [200] {"statusCode":"200","body":"<html>\n      <body>\n        <head>\n          <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui.css\">\n        </head>\n        <div id=\"swagger\"></div>\n        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui-bundle.js\"></script>\n        <script>\n          SwaggerUIBundle({\n            dom_id: '#swagger',\n            spec: {\"swagger\":\"2.0\",\"info\":{\"description\":\"Documents API for U.S. Tax Court EF-CMS\",\"version\":\"2018-11-09T22:05:06Z\",\"title\":\"will-ef-cms\",\"contact\":{\"url\":\"https://www.ustaxcourt.gov\",\"email\":\"webmaster@ustaxcourt.gov\"},\"license\":{\"name\":\"Creative Commons 0\",\"url\":\"https://creativecommons.org/share-your-work/public-domain/cc0/\"}},\"host\":\"efcms-dev.ustc-case-mgmt.flexion.us\",\"tags\":[{\"name\":\"ef-cms\",\"description\":\"EF-CMS\"},{\"name\":\"documents\",\"description\":\"document service\"}],\"schemes\":[\"https\"],\"paths\":{\"/v1/cases\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get all cases for a user\",\"description\":\"Get all cases for a user.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"post\":{\"tags\":[\"cases\"],\"summary\":\"create a case\",\"description\":\"Create a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/cases/{caseId}\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get a case by caseId\",\"description\":\"Get a case by caseId.\\n\",\"produces\":[\"application/json\"],\"parameters\":[{\"name\":\"caseId\",\"in\":\"path\",\"required\":true,\"type\":\"string\"}],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"put\":{\"tags\":[\"cases\"],\"summary\":\"update a case\",\"description\":\"Update a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}},\"422\":{\"description\":\"422 response\",\"schema\":{\"$ref\":\"#/definitions/unprocessableEntityError\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents\":{\"post\":{\"tags\":[\"documents\"],\"summary\":\"create a document\",\"description\":\"Create a document.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/document\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/uploadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for uploads\",\"description\":\"Create a pre-signed url for document uploads to S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/{documentId}/downloadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for downloads\",\"description\":\"Create a pre-signed url for document downloads from S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/swagger\":{\"get\":{\"responses\":{}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}}},\"definitions\":{\"policyUrl\":{\"type\":\"object\",\"properties\":{\"fields\":{\"$ref\":\"#/definitions/fields\"},\"url\":{\"type\":\"string\",\"description\":\"url\"}},\"description\":\"a policy url response\"},\"document\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date document created\"},\"documentType\":{\"type\":\"string\",\"description\":\"type of this document\"},\"documentId\":{\"type\":\"string\",\"description\":\"id of document\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the document\"}},\"description\":\"a document response\"},\"unprocessableEntityError\":{\"type\":\"object\",\"required\":[\"message\"],\"properties\":{\"message\":{\"type\":\"string\"}},\"description\":\"a unprocessable entity error (422), due to a problem in the body or the id in the url\"},\"fields\":{\"type\":\"object\",\"properties\":{\"bucket\":{\"type\":\"string\",\"description\":\"The bucket name.\"},\"Policy\":{\"type\":\"string\",\"description\":\"The policy.\"},\"X-Amz-Date\":{\"type\":\"string\",\"description\":\"The date.\"},\"X-Amz-Algorithm\":{\"type\":\"string\",\"description\":\"The algorithm.\"},\"X-Amz-Signature\":{\"type\":\"string\",\"description\":\"The signature.\"},\"X-Amz-Security-Token\":{\"type\":\"string\",\"description\":\"The security token.\"},\"X-Amz-Credential\":{\"type\":\"string\",\"description\":\"The credential.\"}},\"description\":\"a policy url response\"},\"case\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date case created\"},\"documents\":{\"type\":\"array\",\"description\":\"array of document ids and types associated with the case\",\"items\":{\"type\":\"object\",\"properties\":{\"documentType\":{\"type\":\"string\"},\"documentId\":{\"type\":\"string\"}}}},\"caseId\":{\"type\":\"string\",\"description\":\"id of case\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the case\"}},\"description\":\"a case response\"}}}\n          });\n        </script>\n      </body>\n    </html>","headers":{"Content-Type":"text/html","Access-Control-Allow-Origin":"*"}}
Found code 200
Sending build context to Docker daemon  2.933MB
Step 1/33 : FROM cypress/base:8
 ---> 06858f2f01aa
Step 2/33 : WORKDIR /home/app
 ---> Using cache
 ---> 8947c5a7b87c
Step 3/33 : RUN echo "deb http://http.debian.net/debian jessie-backports main" >> /etc/apt/sources.list
 ---> Using cache
 ---> d82b33a44845
Step 4/33 : RUN apt-get update
 ---> Using cache
 ---> fc5d6ea9df92
Step 5/33 : RUN apt-get install -y -t jessie-backports openjdk-8-jdk
 ---> Using cache
 ---> f657529d2934
Step 6/33 : RUN apt-get install -yq git bash
 ---> Using cache
 ---> 06db5aa0feb9
Step 7/33 : RUN apt-get update &&     apt-get install -yq gconf-service libasound2 libatk1.0-0 libc6 libcairo2 libcups2 libdbus-1-3     libexpat1 libfontconfig1 libgcc1 libgconf-2-4 libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4     libpango-1.0-0 libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 libxcomposite1     libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 libxrandr2 libxrender1 libxss1 libxtst6     ca-certificates fonts-liberation libappindicator1 libnss3 lsb-release xdg-utils wget
 ---> Using cache
 ---> 2b280034c8bf
Step 8/33 : ENV AWS_CLI_VERSION 1.16.31
 ---> Using cache
 ---> 6e70eccc0a94
Step 9/33 : RUN apt-get install -yq openssh-client python python-pip python-setuptools ca-certificates groff less
 ---> Using cache
 ---> ea46c9290773
Step 10/33 : RUN apt-get install -yq unzip wget
 ---> Using cache
 ---> 1e62c1472b06
Step 11/33 : RUN apt-get install -y awscli
 ---> Using cache
 ---> 5a163dfe4367
Step 12/33 : RUN apt-get install -y jq
 ---> Using cache
 ---> 4c10cb5b8efe
Step 13/33 : RUN wget -q -O terraform_0.11.8_linux_amd64.zip https://releases.hashicorp.com/terraform/0.11.8/terraform_0.11.8_linux_amd64.zip &&     unzip -o terraform_0.11.8_linux_amd64.zip terraform
 ---> Using cache
 ---> e2d2404745c9
Step 14/33 : RUN cp terraform /usr/local/bin/
 ---> Using cache
 ---> af7b142c55ad
Step 15/33 : RUN curl --insecure -OL 'https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-3.2.0.1227-linux.zip'
 ---> Using cache
 ---> 84711f35c394
Step 16/33 : RUN mkdir sonar_scanner
 ---> Using cache
 ---> 7eb6fc36c01d
Step 17/33 : RUN unzip -d sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 0bf7b72fae3f
Step 18/33 : RUN mv sonar_scanner/* sonar_home
 ---> Using cache
 ---> 69d2a57d72fe
Step 19/33 : RUN rm -rf sonar_scanner sonar-scanner-cli-3.2.0.1227-linux.zip
 ---> Using cache
 ---> 9fb837b2490c
Step 20/33 : ENV SONAR_RUNNER_HOME=/home/app/sonar_home
 ---> Using cache
 ---> eb257813ac00
Step 21/33 : ENV PATH ${SONAR_RUNNER_HOME}/bin:$PATH
 ---> Using cache
 ---> 8356172cd398
Step 22/33 : RUN sed -i 's/use_embedded_jre=true/use_embedded_jre=false/g' sonar_home/bin/sonar-scanner
 ---> Using cache
 ---> 7de2064ae73c
Step 23/33 : RUN java -version
 ---> Using cache
 ---> 99fce17e1245
Step 24/33 : RUN CI=true npm install cypress
 ---> Using cache
 ---> 9e31249af98a
Step 25/33 : RUN apt-get install -y shellcheck
 ---> Using cache
 ---> 07ec31a817ff
Step 26/33 : COPY shared/package.json /home/app/shared/package.json
 ---> Using cache
 ---> e1afe9a005fa
Step 27/33 : RUN cd /home/app/shared && npm i --only=production
 ---> Using cache
 ---> 79dcd2ebc09e
Step 28/33 : COPY efcms-service/package.json /home/app/efcms-service/package.json
 ---> Using cache
 ---> 0ad4f5a66274
Step 29/33 : RUN cd /home/app/efcms-service && npm i
 ---> Using cache
 ---> 8098a1fd76d3
Step 30/33 : COPY web-client/package.json /home/app/web-client/package.json
 ---> Using cache
 ---> 39f53871d7dd
Step 31/33 : RUN cd /home/app/web-client && npm i
 ---> Using cache
 ---> a32d7597406a
Step 32/33 : COPY . /home/app
 ---> 9564c50ab999
Step 33/33 : CMD echo "please overwrite this command"
 ---> Running in ffa05fd10bbc
Removing intermediate container ffa05fd10bbc
 ---> 8e887164effc
Successfully built 8e887164effc
Successfully tagged cypress:latest

> efcms-service@0.1.0 install:dynamodb /home/app/efcms-service
> sls dynamodb install -s local -r us-east-1 --domain noop --accountId noop --documentsTableName efcms-documents-local --efcmsTableName=efcms-local | grep -v -e '^$'

Serverless: Load command config
Serverless: Load command config:credentials
Serverless: Load command create
Serverless: Load command install
Serverless: Load command package
Serverless: Load command deploy
Serverless: Load command deploy:function
Serverless: Load command deploy:list
Serverless: Load command deploy:list:functions
Serverless: Load command invoke
Serverless: Load command invoke:local
Serverless: Load command info
Serverless: Load command logs
Serverless: Load command login
Serverless: Load command logout
Serverless: Load command metrics
Serverless: Load command print
Serverless: Load command remove
Serverless: Load command rollback
Serverless: Load command rollback:function
Serverless: Load command slstats
Serverless: Load command plugin
Serverless: Load command plugin
Serverless: Load command plugin:install
Serverless: Load command plugin
Serverless: Load command plugin:uninstall
Serverless: Load command plugin
Serverless: Load command plugin:list
Serverless: Load command plugin
Serverless: Load command plugin:search
Serverless: Load command config
Serverless: Load command config:credentials
Serverless: Load command rollback
Serverless: Load command rollback:function
Serverless: Load command dynamodb
Serverless: Load command dynamodb:migrate
Serverless: Load command dynamodb:seed
Serverless: Load command dynamodb:start
Serverless: Load command dynamodb:noStart
Serverless: Load command dynamodb:remove
Serverless: Load command dynamodb:install
Serverless: Load command s3
Serverless: Load command s3:start
Serverless: Load command s3:create
Serverless: Load command s3:remove
Serverless: Load command create_domain
Serverless: Load command delete_domain
Serverless: Load command downloadDocumentation
Serverless: Load command offline
Serverless: Load command offline:start
 
 Serverless Warning --------------------------------------
 
  A valid environment variable to satisfy the declaration 'env:SLS_DEPLOYMENT_BUCKET' could not be found.
 
 
 Serverless Warning --------------------------------------
 
  A valid environment variable to satisfy the declaration 'env:SLS_DEPLOYMENT_BUCKET' could not be found.
 
Serverless: Invoke dynamodb:install
Started downloading Dynamodb-local. Process may take few minutes.
 Installation complete!
Found code 000

> efcms-service@0.1.0 start /home/app/efcms-service
> (../wait-until.sh http://localhost:3000/v1/swagger && npm run create-tables && npm run seed:db && npm run seed:s3) & npm run start:local

Found code 000

> efcms-service@0.1.0 start:local /home/app/efcms-service
> AWS_ACCESS_KEY_ID=noop AWS_SECRET_ACCESS_KEY=noop SLS_DEPLOYMENT_BUCKET=noop sls offline start --noTimeout --stage local --region us-east-1 --domain noop --documentsTableName efcms-documents-local  --efcmsTableName=efcms-local --accountId noop

Serverless: Load command config
Serverless: Load command config:credentials
Serverless: Load command create
Serverless: Load command install
Serverless: Load command package
Serverless: Load command deploy
Serverless: Load command deploy:function
Serverless: Load command deploy:list
Serverless: Load command deploy:list:functions
Serverless: Load command invoke
Serverless: Load command invoke:local
Serverless: Load command info
Serverless: Load command logs
Serverless: Load command login
Serverless: Load command logout
Serverless: Load command metrics
Serverless: Load command print
Serverless: Load command remove
Serverless: Load command rollback
Serverless: Load command rollback:function
Serverless: Load command slstats
Serverless: Load command plugin
Serverless: Load command plugin
Serverless: Load command plugin:install
Serverless: Load command plugin
Serverless: Load command plugin:uninstall
Serverless: Load command plugin
Serverless: Load command plugin:list
Serverless: Load command plugin
Serverless: Load command plugin:search
Serverless: Load command config
Serverless: Load command config:credentials
Serverless: Load command rollback
Serverless: Load command rollback:function
Serverless: Load command dynamodb
Serverless: Load command dynamodb:migrate
Serverless: Load command dynamodb:seed
Serverless: Load command dynamodb:start
Serverless: Load command dynamodb:noStart
Serverless: Load command dynamodb:remove
Serverless: Load command dynamodb:install
Found code 000
Found code 000
Serverless: Load command s3
Serverless: Load command s3:start
Serverless: Load command s3:create
Serverless: Load command s3:remove
Serverless: Load command create_domain
Serverless: Load command delete_domain
Serverless: Load command downloadDocumentation
Serverless: Load command offline
Serverless: Load command offline:start
Serverless: Invoke offline:start
Dynamodb Local Started, Visit: http://localhost:8000/shell
starting handler
client s3event object
S3 local started ( port:9000 )
Serverless: creating bucket: noop-documents-local-us-east-1
[32minfo[39m: [S3rver] PUT /noop-documents-local-us-east-1 409 174 - 9.028 ms
Serverless: Starting Offline: local/us-east-1.
[offline] options: { host: '0.0.0.0',
  location: '.',
  port: 3000,
  prefix: '/',
  stage: 'local',
  region: 'us-east-1',
  noTimeout: true,
  noEnvironment: false,
  resourceRoutes: false,
  dontPrintOutput: false,
  httpsProtocol: '',
  skipCacheInvalidation: false,
  cacheInvalidationRegex: /node_modules/,
  noAuth: false,
  corsAllowOrigin: [ '*' ],
  corsExposedHeaders: [ 'WWW-Authenticate', 'Server-Authorization' ],
  corsAllowHeaders: [ 'accept', 'content-type', 'x-api-key', 'authorization' ],
  corsAllowCredentials: true,
  apiKey: 'd41d8cd98f00b204e9800998ecf8427e',
  useSeparateProcesses: false,
  preserveTrailingSlash: false,
  domain: 'noop',
  documentsTableName: 'efcms-documents-local',
  efcmsTableName: 'efcms-local',
  accountId: 'noop',
  corsConfig: 
   { origin: [ '*' ],
     headers: [ 'accept', 'content-type', 'x-api-key', 'authorization' ],
     credentials: true,
     exposedHeaders: [ 'WWW-Authenticate', 'Server-Authorization' ] } }
[offline] globalBabelOptions: undefined
[offline] funOptions {
  "funName": "getUploadPolicy",
  "handlerName": "create",
  "handlerPath": "/home/app/efcms-service/src/documents/getUploadPolicyLambda",
  "funTimeout": 30000
} 

[offline] getUploadPolicy runtime nodejs8.10 
Serverless: Routes for getUploadPolicy:
Serverless: GET /v1/documents/uploadPolicy
[offline] funOptions {
  "funName": "getDownloadPolicyUrl",
  "handlerName": "get",
  "handlerPath": "/home/app/efcms-service/src/documents/downloadPolicyUrlLambda",
  "funTimeout": 30000
} 

[offline] getDownloadPolicyUrl runtime nodejs8.10 
Serverless: Routes for getDownloadPolicyUrl:
Serverless: GET /v1/documents/{documentId}/downloadPolicyUrl
[offline] funOptions {
  "funName": "updateCase",
  "handlerName": "put",
  "handlerPath": "/home/app/efcms-service/src/cases/updateCaseLambda",
  "funTimeout": 30000
} 

[offline] updateCase runtime nodejs8.10 
Serverless: Routes for updateCase:
Serverless: PUT /v1/cases/{caseId}
[offline] funOptions {
  "funName": "createCase",
  "handlerName": "create",
  "handlerPath": "/home/app/efcms-service/src/cases/createCaseLambda",
  "funTimeout": 30000
} 

[offline] createCase runtime nodejs8.10 
Serverless: Routes for createCase:
Serverless: POST /v1/cases
[offline] funOptions {
  "funName": "getCases",
  "handlerName": "get",
  "handlerPath": "/home/app/efcms-service/src/cases/getCasesLambda",
  "funTimeout": 30000
} 

[offline] getCases runtime nodejs8.10 
Serverless: Routes for getCases:
Serverless: GET /v1/cases
[offline] funOptions {
  "funName": "getCase",
  "handlerName": "get",
  "handlerPath": "/home/app/efcms-service/src/cases/getCaseLambda",
  "funTimeout": 30000
} 

[offline] getCase runtime nodejs8.10 
Serverless: Routes for getCase:
Serverless: GET /v1/cases/{caseId}
[offline] funOptions {
  "funName": "sendToIRS",
  "handlerName": "post",
  "handlerPath": "/home/app/efcms-service/src/cases/sendPetitionToIRSLambda",
  "funTimeout": 30000
} 

[offline] sendToIRS runtime nodejs8.10 
Serverless: Routes for sendToIRS:
Serverless: POST /v1/cases/{caseId}/irsPetitionPackage
[offline] funOptions {
  "funName": "getWorkItem",
  "handlerName": "get",
  "handlerPath": "/home/app/efcms-service/src/workitems/getWorkItemLambda",
  "funTimeout": 30000
} 

[offline] getWorkItem runtime nodejs8.10 
Serverless: Routes for getWorkItem:
Serverless: GET /v1/workitems/{workItemId}
[offline] funOptions {
  "funName": "updateWorkItem",
  "handlerName": "put",
  "handlerPath": "/home/app/efcms-service/src/workitems/updateWorkItemLambda",
  "funTimeout": 30000
} 

[offline] updateWorkItem runtime nodejs8.10 
Serverless: Routes for updateWorkItem:
Serverless: PUT /v1/workitems/{workItemId}
[offline] funOptions {
  "funName": "getWorkItems",
  "handlerName": "get",
  "handlerPath": "/home/app/efcms-service/src/workitems/getWorkItemsLambda",
  "funTimeout": 30000
} 

[offline] getWorkItems runtime nodejs8.10 
Serverless: Routes for getWorkItems:
Serverless: GET /v1/workitems
[offline] funOptions {
  "funName": "swagger",
  "handlerName": "handler",
  "handlerPath": "/home/app/efcms-service/src/swagger/swaggerLambda",
  "funTimeout": 30000
} 

[offline] swagger runtime nodejs8.10 
Serverless: Routes for swagger:
Serverless: GET /v1/swagger

Serverless: Offline listening on http://0.0.0.0:3000

Serverless: GET /v1/swagger (λ: swagger)
Serverless: The first request might take a few extra seconds
[offline] requestId: 658275951925928
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/swagger/swaggerLambda)
[offline] event: { headers: 
   { 'User-Agent': 'curl/7.38.0',
     Host: 'localhost:3000',
     Accept: '*/*' },
  multiValueHeaders: 
   { 'User-Agent': [ 'curl/7.38.0' ],
     Host: [ 'localhost:3000' ],
     Accept: [ '*/*' ] },
  path: '/v1/swagger',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_5021489356250493',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'curl/7.38.0',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/swagger',
     httpMethod: 'GET' },
  resource: '/v1/swagger',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'text/html' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"<html>\n      <body>\n        <head>\n          <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui.css\">\n        </head>\n        <div id=\"swagger\"></div>\n        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui-bundle.js\"></script>\n        <script>\n          SwaggerUIBundle({\n            dom_id: '#swagger',\n            spec: {\"swagger\":\"2.0\",\"info\":{\"description\":\"Documents API for U.S. Tax Court EF-CMS\",\"version\":\"2018-11-09T22:05:06Z\",\"title\":\"will-ef-cms\",\"contact\":{\"url\":\"https://www.ustaxcourt.gov\",\"email\":\"webmaster@ustaxcourt.gov\"},\"license\":{\"name\":\"Creative Commons 0\",\"url\":\"https://creativecommons.org/share-your-work/public-domain/cc0/\"}},\"host\":\"efcms-dev.ustc-case-mgmt.flexion.us\",\"tags\":[{\"name\":\"ef-cms\",\"description\":\"EF-CMS\"},{\"name\":\"documents\",\"description\":\"document service\"}],\"schemes\":[\"https\"],\"paths\":{\"/v1/cases\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get all cases for a user\",\"description\":\"Get all cases for a user.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"post\":{\"tags\":[\"cases\"],\"summary\":\"create a case\",\"description\":\"Create a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/cases/{caseId}\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get a case by caseId\",\"description\":\"Get a case by caseId.\\n\",\"produces\":[\"application/json\"],\"parameters\":[{\"name\":\"caseId\",\"in\":\"path\",\"required\":true,\"type\":\"string\"}],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"put\":{\"tags\":[\"cases\"],\"summary\":\"update a case\",\"description\":\"Update a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}},\"422\":{\"description\":\"422 response\",\"schema\":{\"$ref\":\"#/definitions/unprocessableEntityError\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents\":{\"post\":{\"tags\":[\"documents\"],\"summary\":\"create a document\",\"description\":\"Create a document.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/document\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/uploadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for uploads\",\"description\":\"Create a pre-signed url for document uploads to S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/{documentId}/downloadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for downloads\",\"description\":\"Create a pre-signed url for document downloads from S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/swagger\":{\"get\":{\"responses\":{}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}}},\"definitions\":{\"policyUrl\":{\"type\":\"object\",\"properties\":{\"fields\":{\"$ref\":\"#/definitions/fields\"},\"url\":{\"type\":\"string\",\"description\":\"url\"}},\"description\":\"a policy url response\"},\"document\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date document created\"},\"documentType\":{\"type\":\"string\",\"description\":\"type of this document\"},\"documentId\":{\"type\":\"string\",\"description\":\"id of document\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the document\"}},\"description\":\"a document response\"},\"unprocessableEntityError\":{\"type\":\"object\",\"required\":[\"message\"],\"properties\":{\"message\":{\"type\":\"string\"}},\"description\":\"a unprocessable entity error (422), due to a problem in the body or the id in the url\"},\"fields\":{\"type\":\"object\",\"properties\":{\"bucket\":{\"type\":\"string\",\"description\":\"The bucket name.\"},\"Policy\":{\"type\":\"string\",\"description\":\"The policy.\"},\"X-Amz-Date\":{\"type\":\"string\",\"description\":\"The date.\"},\"X-Amz-Algorithm\":{\"type\":\"string\",\"description\":\"The algorithm.\"},\"X-Amz-Signature\":{\"type\":\"string\",\"description\":\"The signature.\"},\"X-Amz-Security-Token\":{\"type\":\"string\",\"description\":\"The security token.\"},\"X-Amz-Credential\":{\"type\":\"string\",\"description\":\"The credential.\"}},\"description\":\"a policy url response\"},\"case\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date case created\"},\"documents\":{\"type\":\"array\",\"description\":\"array of document ids and types associated with the case\",\"items\":{\"type\":\"object\",\"properties\":{\"documentType\":{\"type\":\"string\"},\"documentId\":{\"type\":\"string\"}}}},\"caseId\":{\"type\":\"string\",\"description\":\"id of case\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the case\"}},\"description\":\"a case response\"}}}\n          });\n        </script>\n      </body>\n    </html>","headers":{"Content-Type":"text/html","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 658275951925928
Found code 200
Found code 000

Serverless: GET /v1/swagger (λ: swagger)
[offline] requestId: 10076922017618117
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/swagger/swaggerLambda)
[offline] event: { headers: 
   { 'User-Agent': 'curl/7.38.0',
     Host: 'localhost:3000',
     Accept: '*/*' },
  multiValueHeaders: 
   { 'User-Agent': [ 'curl/7.38.0' ],
     Host: [ 'localhost:3000' ],
     Accept: [ '*/*' ] },
  path: '/v1/swagger',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_9605678652651257',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'curl/7.38.0',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/swagger',
     httpMethod: 'GET' },
  resource: '/v1/swagger',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'text/html' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"<html>\n      <body>\n        <head>\n          <link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui.css\">\n        </head>\n        <div id=\"swagger\"></div>\n        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.17.4/swagger-ui-bundle.js\"></script>\n        <script>\n          SwaggerUIBundle({\n            dom_id: '#swagger',\n            spec: {\"swagger\":\"2.0\",\"info\":{\"description\":\"Documents API for U.S. Tax Court EF-CMS\",\"version\":\"2018-11-09T22:05:06Z\",\"title\":\"will-ef-cms\",\"contact\":{\"url\":\"https://www.ustaxcourt.gov\",\"email\":\"webmaster@ustaxcourt.gov\"},\"license\":{\"name\":\"Creative Commons 0\",\"url\":\"https://creativecommons.org/share-your-work/public-domain/cc0/\"}},\"host\":\"efcms-dev.ustc-case-mgmt.flexion.us\",\"tags\":[{\"name\":\"ef-cms\",\"description\":\"EF-CMS\"},{\"name\":\"documents\",\"description\":\"document service\"}],\"schemes\":[\"https\"],\"paths\":{\"/v1/cases\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get all cases for a user\",\"description\":\"Get all cases for a user.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"post\":{\"tags\":[\"cases\"],\"summary\":\"create a case\",\"description\":\"Create a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/cases/{caseId}\":{\"get\":{\"tags\":[\"cases\"],\"summary\":\"get a case by caseId\",\"description\":\"Get a case by caseId.\\n\",\"produces\":[\"application/json\"],\"parameters\":[{\"name\":\"caseId\",\"in\":\"path\",\"required\":true,\"type\":\"string\"}],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}}}},\"put\":{\"tags\":[\"cases\"],\"summary\":\"update a case\",\"description\":\"Update a case.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/case\"}},\"422\":{\"description\":\"422 response\",\"schema\":{\"$ref\":\"#/definitions/unprocessableEntityError\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents\":{\"post\":{\"tags\":[\"documents\"],\"summary\":\"create a document\",\"description\":\"Create a document.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/document\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/uploadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for uploads\",\"description\":\"Create a pre-signed url for document uploads to S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/documents/{documentId}/downloadPolicy\":{\"get\":{\"tags\":[\"documents\"],\"summary\":\"create a pre-signed url for downloads\",\"description\":\"Create a pre-signed url for document downloads from S3.\\n\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"schema\":{\"$ref\":\"#/definitions/policyUrl\"}}}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}},\"/v1/swagger\":{\"get\":{\"responses\":{}},\"options\":{\"consumes\":[\"application/json\"],\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"200 response\",\"headers\":{\"Access-Control-Allow-Origin\":{\"type\":\"string\"},\"Access-Control-Allow-Methods\":{\"type\":\"string\"},\"Access-Control-Allow-Credentials\":{\"type\":\"string\"},\"Access-Control-Allow-Headers\":{\"type\":\"string\"}}}}}}},\"definitions\":{\"policyUrl\":{\"type\":\"object\",\"properties\":{\"fields\":{\"$ref\":\"#/definitions/fields\"},\"url\":{\"type\":\"string\",\"description\":\"url\"}},\"description\":\"a policy url response\"},\"document\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date document created\"},\"documentType\":{\"type\":\"string\",\"description\":\"type of this document\"},\"documentId\":{\"type\":\"string\",\"description\":\"id of document\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the document\"}},\"description\":\"a document response\"},\"unprocessableEntityError\":{\"type\":\"object\",\"required\":[\"message\"],\"properties\":{\"message\":{\"type\":\"string\"}},\"description\":\"a unprocessable entity error (422), due to a problem in the body or the id in the url\"},\"fields\":{\"type\":\"object\",\"properties\":{\"bucket\":{\"type\":\"string\",\"description\":\"The bucket name.\"},\"Policy\":{\"type\":\"string\",\"description\":\"The policy.\"},\"X-Amz-Date\":{\"type\":\"string\",\"description\":\"The date.\"},\"X-Amz-Algorithm\":{\"type\":\"string\",\"description\":\"The algorithm.\"},\"X-Amz-Signature\":{\"type\":\"string\",\"description\":\"The signature.\"},\"X-Amz-Security-Token\":{\"type\":\"string\",\"description\":\"The security token.\"},\"X-Amz-Credential\":{\"type\":\"string\",\"description\":\"The credential.\"}},\"description\":\"a policy url response\"},\"case\":{\"type\":\"object\",\"properties\":{\"createdAt\":{\"type\":\"string\",\"description\":\"date case created\"},\"documents\":{\"type\":\"array\",\"description\":\"array of document ids and types associated with the case\",\"items\":{\"type\":\"object\",\"properties\":{\"documentType\":{\"type\":\"string\"},\"documentId\":{\"type\":\"string\"}}}},\"caseId\":{\"type\":\"string\",\"description\":\"id of case\"},\"userId\":{\"type\":\"string\",\"description\":\"id of user who created the case\"}},\"description\":\"a case response\"}}}\n          });\n        </script>\n      </body>\n    </html>","headers":{"Content-Type":"text/html","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 10076922017618117
Found code 200

> ef-cms-web-client@1.0.0 dev /home/app/web-client
> USTC_ENV=dev parcel --no-cache --no-hmr src/index.pug


> efcms-service@0.1.0 create-tables /home/app/efcms-service
> AWS_ACCESS_KEY_ID=noop AWS_SECRET_ACCESS_KEY=noop node create-dynamo-tables.js

Creating Documents Table
Creating EFCMS Table
Server running at http://localhost:1234 

> efcms-service@0.1.0 seed:db /home/app/efcms-service
> AWS_ACCESS_KEY_ID=noop AWS_SECRET_ACCESS_KEY=noop SLS_DEPLOYMENT_BUCKET=noop sls dynamodb seed --seed test --noTimeout --stage local --region us-east-1 --domain noop --documentsTableName efcms-documents-local  --efcmsTableName=efcms-local --accountId noop

Serverless: Load command config
Serverless: Load command config:credentials
Serverless: Load command create
Serverless: Load command install
Serverless: Load command package
Serverless: Load command deploy
Serverless: Load command deploy:function
Serverless: Load command deploy:list
Serverless: Load command deploy:list:functions
Serverless: Load command invoke
Serverless: Load command invoke:local
Serverless: Load command info
Serverless: Load command logs
Serverless: Load command login
Serverless: Load command logout
Serverless: Load command metrics
Serverless: Load command print
Serverless: Load command remove
Serverless: Load command rollback
Serverless: Load command rollback:function
Serverless: Load command slstats
Serverless: Load command plugin
Serverless: Load command plugin
Serverless: Load command plugin:install
Serverless: Load command plugin
Serverless: Load command plugin:uninstall
Serverless: Load command plugin
Serverless: Load command plugin:list
Serverless: Load command plugin
Serverless: Load command plugin:search
Serverless: Load command config
Serverless: Load command config:credentials
Serverless: Load command rollback
Serverless: Load command rollback:function
Serverless: Load command dynamodb
Serverless: Load command dynamodb:migrate
Serverless: Load command dynamodb:seed
Serverless: Load command dynamodb:start
Serverless: Load command dynamodb:noStart
Serverless: Load command dynamodb:remove
Serverless: Load command dynamodb:install
Serverless: Load command s3
Serverless: Load command s3:start
Serverless: Load command s3:create
Serverless: Load command s3:remove
Serverless: Load command create_domain
Serverless: Load command delete_domain
Serverless: Load command downloadDocumentation
Serverless: Load command offline
Serverless: Load command offline:start
Serverless: Invoke dynamodb:seed
Seed running complete for table: efcms-documents-local
Seed running complete for table: efcms-local

> efcms-service@0.1.0 seed:s3 /home/app/efcms-service
> rm -rf storage/s3/noop-documents-local-us-east-1 && cp -R storage/fixtures/s3/ storage/s3/noop-documents-local-us-east-1

⚠️  Could not load source file "../../src/fluent/index.ts" in source map of "../node_modules/function-tree/es/fluent/index.js".
✨  Built in 9.05s.
Found code 200

> ef-cms-web-client@1.0.0 cypress /home/app/web-client
> cypress run

It looks like this is your first time using Cypress: 3.1.4

[?25l[15:45:35]  Verifying Cypress can run /root/.cache/Cypress/3.1.4/Cypress [started]
[15:45:36]  Verified Cypress!       /root/.cache/Cypress/3.1.4/Cypress [title changed]
[15:45:36]  Verified Cypress!       /root/.cache/Cypress/3.1.4/Cypress [completed]
[?25h
Opening Cypress...

================================================================================

  (Run Starting)

  ┌────────────────────────────────────────────────────────────────────────────┐
  │ Cypress:  3.1.4                                                            │
  │ Browser:  Electron 59 (headless)                                           │
  │ Specs:    3 found (file-a-answer.spec.js, file-a-petition.spec.js, log-in… │
  └────────────────────────────────────────────────────────────────────────────┘


────────────────────────────────────────────────────────────────────────────────
                                                                                
  Running: file-a-answer.spec.js...                                    (1 of 3) 


  File an Answer

Serverless: GET /v1/cases (λ: getCases)
Serverless: The first request might take a few extra seconds
[offline] requestId: 6926173405204801
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/getCasesLambda)
    Respondent dashboard view (should contain 1 item of 101-18)
      ✓ finds footer element (1282ms)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer respondent',
     referer: 'http://localhost:1234/',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer respondent' ],
     referer: [ 'http://localhost:1234/' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_6259382499466426',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases',
     httpMethod: 'GET' },
  resource: '/v1/cases',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"[{\"documents\":[{\"createdAt\":\"2018-12-31T15:45:49.254Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:49.254Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:49.254Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:49.254Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"}]","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 6926173405204801
      ✓ case list is visible (964ms)

Serverless: GET /v1/cases/102-18 (λ: getCase)
Serverless: The first request might take a few extra seconds
[offline] requestId: 2535464392152631
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/getCaseLambda)
    file a document
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer respondent',
     referer: 'http://localhost:1234/case-detail/102-18',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer respondent' ],
     referer: [ 'http://localhost:1234/case-detail/102-18' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases/102-18',
  pathParameters: { caseId: '102-18' },
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_3117482334429613',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases/{caseId}',
     httpMethod: 'GET' },
  resource: '/v1/cases/{caseId}',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:49.766Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:49.766Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:49.766Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"}],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 2535464392152631
      ✓ should have a file a document button (286ms)
      ✓ select an answer type document (192ms)

Serverless: GET /v1/documents/uploadPolicy (λ: getUploadPolicy)
Serverless: The first request might take a few extra seconds
[offline] requestId: 5677089840503879
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/documents/getUploadPolicyLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     referer: 'http://localhost:1234/case-detail/102-18',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     referer: [ 'http://localhost:1234/case-detail/102-18' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/documents/uploadPolicy',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_39409399731996',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/documents/uploadPolicy',
     httpMethod: 'GET' },
  resource: '/v1/documents/uploadPolicy',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"{\"url\":\"http://localhost:9000/noop-documents-local-us-east-1\",\"fields\":{\"bucket\":\"noop-documents-local-us-east-1\",\"X-Amz-Algorithm\":\"AWS4-HMAC-SHA256\",\"X-Amz-Credential\":\"noop/20181231/us-east-1/s3/aws4_request\",\"X-Amz-Date\":\"20181231T154550Z\",\"Policy\":\"eyJleHBpcmF0aW9uIjoiMjAxOC0xMi0zMVQxNjo0NTo1MFoiLCJjb25kaXRpb25zIjpbWyJzdGFydHMtd2l0aCIsIiRrZXkiLCIiXSxbInN0YXJ0cy13aXRoIiwiJENvbnRlbnQtVHlwZSIsIiJdLHsiYnVja2V0Ijoibm9vcC1kb2N1bWVudHMtbG9jYWwtdXMtZWFzdC0xIn0seyJYLUFtei1BbGdvcml0aG0iOiJBV1M0LUhNQUMtU0hBMjU2In0seyJYLUFtei1DcmVkZW50aWFsIjoibm9vcC8yMDE4MTIzMS91cy1lYXN0LTEvczMvYXdzNF9yZXF1ZXN0In0seyJYLUFtei1EYXRlIjoiMjAxODEyMzFUMTU0NTUwWiJ9XX0=\",\"X-Amz-Signature\":\"9b394eccbf322d5dce08f4a526ce429e4a7434ef4f4cddda0e7233244ea0e298\"}}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 5677089840503879
      ✓ upload the answer (148ms)
[32minfo[39m: [S3rver] POST /noop-documents-local-us-east-1 204 - - 15.974 ms

Serverless: PUT /v1/cases/2a6fb0fb-5f93-479a-9235-7eba43005800 (λ: updateCase)
Serverless: The first request might take a few extra seconds
[offline] requestId: 370684806503357
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: { createdAt: '2018-11-21T20:51:28.192Z',
  documents: 
   [ { createdAt: '2018-12-31T15:45:49.766Z',
       documentId: '241edd00-1d94-40cd-9374-8d1bc7ae6d7b',
       documentType: 'Petition',
       userId: 'taxpayer' },
     { createdAt: '2018-12-31T15:45:49.766Z',
       documentId: '67274d05-1e30-469d-83a7-acadba72bd2d',
       documentType: 'Request for Place of Trial',
       userId: 'taxpayer' },
     { createdAt: '2018-12-31T15:45:49.766Z',
       documentId: '754d7aca-3cb1-4679-a73f-75001b660e20',
       documentType: 'Statement of Taxpayer Identification Number',
       userId: 'taxpayer' },
     { documentId: 'a2bd3a5a-6c6e-4e86-a166-526ff045887b' } ],
  caseId: '2a6fb0fb-5f93-479a-9235-7eba43005800',
  petitioners: 
   [ { zip: '37208',
       role: 'taxpayer',
       city: 'Orlando',
       phone: '111-111-1111',
       name: 'Test Taxpayer',
       addressLine1: '111 Orange St.',
       addressLine2: 'Building 2',
       state: 'FL',
       userId: 'taxpayer',
       email: 'testtaxpayer@example.com',
       token: 'taxpayer' } ],
  userId: 'taxpayer',
  docketNumber: '102-18',
  status: 'new' }
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/updateCaseLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     'content-length': '945',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer respondent',
     'content-type': 'application/json;charset=UTF-8',
     referer: 'http://localhost:1234/case-detail/102-18',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     'content-length': [ '945' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer respondent' ],
     'content-type': [ 'application/json;charset=UTF-8' ],
     referer: [ 'http://localhost:1234/case-detail/102-18' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases/2a6fb0fb-5f93-479a-9235-7eba43005800',
  pathParameters: { caseId: '2a6fb0fb-5f93-479a-9235-7eba43005800' },
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_19723808456795466',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases/{caseId}',
     httpMethod: 'PUT' },
  resource: '/v1/cases/{caseId}',
  httpMethod: 'PUT',
  queryStringParameters: { interactorName: 'fileAnswerUpdateCase' },
  multiValueQueryStringParameters: { interactorName: [ 'fileAnswerUpdateCase' ] },
  stageVariables: null,
  body: '{"createdAt":"2018-11-21T20:51:28.192Z","documents":[{"createdAt":"2018-12-31T15:45:49.766Z","documentId":"241edd00-1d94-40cd-9374-8d1bc7ae6d7b","documentType":"Petition","userId":"taxpayer"},{"createdAt":"2018-12-31T15:45:49.766Z","documentId":"67274d05-1e30-469d-83a7-acadba72bd2d","documentType":"Request for Place of Trial","userId":"taxpayer"},{"createdAt":"2018-12-31T15:45:49.766Z","documentId":"754d7aca-3cb1-4679-a73f-75001b660e20","documentType":"Statement of Taxpayer Identification Number","userId":"taxpayer"},{"documentId":"a2bd3a5a-6c6e-4e86-a166-526ff045887b"}],"caseId":"2a6fb0fb-5f93-479a-9235-7eba43005800","petitioners":[{"zip":"37208","role":"taxpayer","city":"Orlando","phone":"111-111-1111","name":"Test Taxpayer","addressLine1":"111 Orange St.","addressLine2":"Building 2","state":"FL","userId":"taxpayer","email":"testtaxpayer@example.com","token":"taxpayer"}],"userId":"taxpayer","docketNumber":"102-18","status":"new"}',
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:50.385Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:50.385Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:50.385Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"},{\"documentType\":\"Answer\",\"documentId\":\"a2bd3a5a-6c6e-4e86-a166-526ff045887b\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\",\"createdAt\":\"2018-12-31T15:45:50.385Z\"}],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\",\"workItems\":[],\"respondent\":{\"userId\":\"respondent\",\"name\":\"Test Respondent\",\"role\":\"respondent\",\"barNumber\":\"12345\",\"token\":\"respondent\",\"email\":\"testrespondent@example.com\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"city\":\"Orlando\",\"state\":\"FL\",\"zip\":\"37208\",\"phone\":\"111-111-1111\",\"respondentId\":\"respondent\"}}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 370684806503357

Serverless: GET /v1/cases/102-18 (λ: getCase)
[offline] requestId: 05090045379579222
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/getCaseLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer respondent',
     referer: 'http://localhost:1234/case-detail/102-18',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer respondent' ],
     referer: [ 'http://localhost:1234/case-detail/102-18' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases/102-18',
  pathParameters: { caseId: '102-18' },
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_1826014902227373',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases/{caseId}',
     httpMethod: 'GET' },
  resource: '/v1/cases/{caseId}',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:50.534Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:50.534Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:50.534Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:50.534Z\",\"documentId\":\"a2bd3a5a-6c6e-4e86-a166-526ff045887b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"workItems\":[],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"respondent\":{\"zip\":\"37208\",\"role\":\"respondent\",\"city\":\"Orlando\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"12345\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"email\":\"testrespondent@example.com\"},\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 05090045379579222

Serverless: GET /v1/cases (λ: getCases)
[offline] requestId: 9701681405657487
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/getCasesLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer respondent',
     referer: 'http://localhost:1234/',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer respondent' ],
     referer: [ 'http://localhost:1234/' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_337951210647905',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases',
     httpMethod: 'GET' },
  resource: '/v1/cases',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"[{\"documents\":[{\"createdAt\":\"2018-12-31T15:45:50.663Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:50.663Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:50.663Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:50.663Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"},{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:50.663Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:50.663Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:50.663Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:50.663Z\",\"documentId\":\"a2bd3a5a-6c6e-4e86-a166-526ff045887b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"workItems\":[],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"respondent\":{\"zip\":\"37208\",\"role\":\"respondent\",\"city\":\"Orlando\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"12345\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"email\":\"testrespondent@example.com\"},\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\"}]","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 9701681405657487
      ✓ go back to dashboard (406ms)
      ✓ case list table reflects newly-added record


  7 passing (3s)


  (Results)

  ┌─────────────────────────────────────┐
  │ Tests:        7                     │
  │ Passing:      7                     │
  │ Failing:      0                     │
  │ Pending:      0                     │
  │ Skipped:      0                     │
  │ Screenshots:  0                     │
  │ Video:        true                  │
  │ Duration:     3 seconds             │
  │ Spec Ran:     file-a-answer.spec.js │
  └─────────────────────────────────────┘


  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/app/web-client/cypress/videos/file-a-answer.spec.js.mp4 (3 seconds)


────────────────────────────────────────────────────────────────────────────────
                                                                                
  Running: file-a-petition.spec.js...                                  (2 of 3) 


  File a petition

Serverless: GET /v1/cases (λ: getCases)
[offline] requestId: 5189200048321605
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/getCasesLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer taxpayer',
     referer: 'http://localhost:1234/',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer taxpayer' ],
     referer: [ 'http://localhost:1234/' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_3556032384392367',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases',
     httpMethod: 'GET' },
  resource: '/v1/cases',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"[{\"documents\":[{\"createdAt\":\"2018-12-31T15:45:57.167Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:57.167Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:57.167Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:57.167Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"},{\"createdAt\":\"2018-11-21T20:58:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:57.168Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:57.168Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:57.168Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"}],\"caseId\":\"3a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"103-18\",\"status\":\"new\"},{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:57.168Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:57.168Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:57.168Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:57.168Z\",\"documentId\":\"a2bd3a5a-6c6e-4e86-a166-526ff045887b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"workItems\":[],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"respondent\":{\"zip\":\"37208\",\"role\":\"respondent\",\"city\":\"Orlando\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"12345\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"email\":\"testrespondent@example.com\"},\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\"}]","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 5189200048321605
    Dashboard view
      ✓ finds footer element (1203ms)
      ✓ case list is visible (148ms)
      USA Banner
        ✓ shows header and hides content (58ms)
        ✓ shows reveals content when clicked, hides when clicked again (220ms)
    creation form
      ✓ has three file inputs (71ms)
      ✓ shows validation checkmark when file is selected (103ms)

Serverless: GET /v1/documents/uploadPolicy (λ: getUploadPolicy)
[offline] requestId: 8770155118067646
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/documents/getUploadPolicyLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     referer: 'http://localhost:1234/file-a-petition',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     referer: [ 'http://localhost:1234/file-a-petition' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/documents/uploadPolicy',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_5193962386388262',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/documents/uploadPolicy',
     httpMethod: 'GET' },
  resource: '/v1/documents/uploadPolicy',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"{\"url\":\"http://localhost:9000/noop-documents-local-us-east-1\",\"fields\":{\"bucket\":\"noop-documents-local-us-east-1\",\"X-Amz-Algorithm\":\"AWS4-HMAC-SHA256\",\"X-Amz-Credential\":\"noop/20181231/us-east-1/s3/aws4_request\",\"X-Amz-Date\":\"20181231T154557Z\",\"Policy\":\"eyJleHBpcmF0aW9uIjoiMjAxOC0xMi0zMVQxNjo0NTo1N1oiLCJjb25kaXRpb25zIjpbWyJzdGFydHMtd2l0aCIsIiRrZXkiLCIiXSxbInN0YXJ0cy13aXRoIiwiJENvbnRlbnQtVHlwZSIsIiJdLHsiYnVja2V0Ijoibm9vcC1kb2N1bWVudHMtbG9jYWwtdXMtZWFzdC0xIn0seyJYLUFtei1BbGdvcml0aG0iOiJBV1M0LUhNQUMtU0hBMjU2In0seyJYLUFtei1DcmVkZW50aWFsIjoibm9vcC8yMDE4MTIzMS91cy1lYXN0LTEvczMvYXdzNF9yZXF1ZXN0In0seyJYLUFtei1EYXRlIjoiMjAxODEyMzFUMTU0NTU3WiJ9XX0=\",\"X-Amz-Signature\":\"32bfc93f68c1607b77d14e8e4a75a9fc3eaef26b7e8e984d85f78655ccc61266\"}}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 8770155118067646
[32minfo[39m: [S3rver] POST /noop-documents-local-us-east-1 204 - - 4.151 ms
[32minfo[39m: [S3rver] POST /noop-documents-local-us-east-1 204 - - 5.366 ms
[32minfo[39m: [S3rver] POST /noop-documents-local-us-east-1 204 - - 2.034 ms

Serverless: POST /v1/cases (λ: createCase)
Serverless: The first request might take a few extra seconds
[offline] requestId: 9896943650770893
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: { documents: 
   [ { documentType: 'Petition',
       documentId: '77d4c417-295a-466b-a686-a4bdb1eb35b5' },
     { documentType: 'Request for Place of Trial',
       documentId: '4a860a46-ce1a-4d59-bebc-995fe7f67ddd' },
     { documentType: 'Statement of Taxpayer Identification Number',
       documentId: 'ae97ba26-663e-47e9-9df2-e06c8d386c25' } ] }
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/createCaseLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     'content-length': '308',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer taxpayer',
     'content-type': 'application/json;charset=UTF-8',
     referer: 'http://localhost:1234/file-a-petition',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     'content-length': [ '308' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer taxpayer' ],
     'content-type': [ 'application/json;charset=UTF-8' ],
     referer: [ 'http://localhost:1234/file-a-petition' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_9195493013428595',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases',
     httpMethod: 'POST' },
  resource: '/v1/cases',
  httpMethod: 'POST',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: '{"documents":[{"documentType":"Petition","documentId":"77d4c417-295a-466b-a686-a4bdb1eb35b5"},{"documentType":"Request for Place of Trial","documentId":"4a860a46-ce1a-4d59-bebc-995fe7f67ddd"},{"documentType":"Statement of Taxpayer Identification Number","documentId":"ae97ba26-663e-47e9-9df2-e06c8d386c25"}]}',
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"{\"userId\":\"taxpayer\",\"petitioners\":[{\"userId\":\"taxpayer\",\"name\":\"Test Taxpayer\",\"role\":\"taxpayer\",\"token\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"city\":\"Orlando\",\"state\":\"FL\",\"zip\":\"37208\",\"phone\":\"111-111-1111\"}],\"docketNumber\":\"104-18\",\"documents\":[{\"documentType\":\"Petition\",\"documentId\":\"77d4c417-295a-466b-a686-a4bdb1eb35b5\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"createdAt\":\"2018-12-31T15:45:58.391Z\"},{\"documentType\":\"Request for Place of Trial\",\"documentId\":\"4a860a46-ce1a-4d59-bebc-995fe7f67ddd\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"createdAt\":\"2018-12-31T15:45:58.391Z\"},{\"documentType\":\"Statement of Taxpayer Identification Number\",\"documentId\":\"ae97ba26-663e-47e9-9df2-e06c8d386c25\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"createdAt\":\"2018-12-31T15:45:58.391Z\"}],\"caseId\":\"9450bfb0-9825-4c04-a932-cbf64337f678\",\"createdAt\":\"2018-12-31T15:45:58.364Z\",\"status\":\"new\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 9896943650770893

Serverless: GET /v1/cases (λ: getCases)
[offline] requestId: 43064105957556165
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/getCasesLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer taxpayer',
     referer: 'http://localhost:1234/',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer taxpayer' ],
     referer: [ 'http://localhost:1234/' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_34059699565889856',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases',
     httpMethod: 'GET' },
  resource: '/v1/cases',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"[{\"documents\":[{\"createdAt\":\"2018-12-31T15:45:58.465Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:58.465Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:58.465Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:45:58.465Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"},{\"createdAt\":\"2018-12-31T15:45:58.364Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:58.466Z\",\"documentId\":\"77d4c417-295a-466b-a686-a4bdb1eb35b5\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:58.466Z\",\"documentId\":\"4a860a46-ce1a-4d59-bebc-995fe7f67ddd\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:58.473Z\",\"documentId\":\"ae97ba26-663e-47e9-9df2-e06c8d386c25\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\"}],\"caseId\":\"9450bfb0-9825-4c04-a932-cbf64337f678\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"104-18\",\"status\":\"new\"},{\"createdAt\":\"2018-11-21T20:58:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:58.473Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:58.473Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:58.473Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"}],\"caseId\":\"3a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"103-18\",\"status\":\"new\"},{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:58.474Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:58.474Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:58.474Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:58.474Z\",\"documentId\":\"a2bd3a5a-6c6e-4e86-a166-526ff045887b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"workItems\":[],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"respondent\":{\"zip\":\"37208\",\"role\":\"respondent\",\"city\":\"Orlando\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"12345\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"email\":\"testrespondent@example.com\"},\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\"}]","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 43064105957556165
      ✓ submits forms and shows a success message (685ms)
      ✓ case list table reflects newly-added record (60ms)
    can view case detail

Serverless: GET /v1/cases/104-18 (λ: getCase)
[offline] requestId: 35244052992559305
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/getCaseLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer taxpayer',
     referer: 'http://localhost:1234/case-detail/104-18',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer taxpayer' ],
     referer: [ 'http://localhost:1234/case-detail/104-18' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases/104-18',
  pathParameters: { caseId: '104-18' },
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_7954511234708372',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases/{caseId}',
     httpMethod: 'GET' },
  resource: '/v1/cases/{caseId}',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____
[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"{\"createdAt\":\"2018-12-31T15:45:58.364Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:45:58.770Z\",\"documentId\":\"77d4c417-295a-466b-a686-a4bdb1eb35b5\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:58.770Z\",\"documentId\":\"4a860a46-ce1a-4d59-bebc-995fe7f67ddd\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\"},{\"createdAt\":\"2018-12-31T15:45:58.770Z\",\"documentId\":\"ae97ba26-663e-47e9-9df2-e06c8d386c25\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\"}],\"caseId\":\"9450bfb0-9825-4c04-a932-cbf64337f678\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"104-18\",\"status\":\"new\"}","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 35244052992559305
      ✓ shows docket record table and data (220ms)
      ✓ accordion header expands/collapses (202ms)


  10 passing (3s)


  (Results)

  ┌───────────────────────────────────────┐
  │ Tests:        10                      │
  │ Passing:      10                      │
  │ Failing:      0                       │
  │ Pending:      0                       │
  │ Skipped:      0                       │
  │ Screenshots:  0                       │
  │ Video:        true                    │
  │ Duration:     3 seconds               │
  │ Spec Ran:     file-a-petition.spec.js │
  └───────────────────────────────────────┘


  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/app/web-client/cypress/videos/file-a-petition.spec.js.mp4 (1 second)


────────────────────────────────────────────────────────────────────────────────
                                                                                
  Running: log-in.spec.js...                                           (3 of 3) 


  Log in page
    ✓ finds all the elements (816ms)
    ✓ fails login (402ms)
    ✓ logs in successfully (541ms)

Serverless: GET /v1/cases (λ: getCases)
[offline] requestId: 9889641470948372
[offline] contentType: application/json
[offline] requestTemplate: 
[offline] payload: null
[offline] Invalidating cache...
[offline] Loading handler... (/home/app/efcms-service/src/cases/getCasesLambda)
[offline] event: { headers: 
   { host: 'localhost:3000',
     'proxy-connection': 'keep-alive',
     accept: 'application/json, text/plain, */*',
     origin: 'http://localhost:1234',
     'user-agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
     authorization: 'Bearer taxpayer',
     referer: 'http://localhost:1234/',
     'accept-encoding': 'gzip',
     'accept-language': 'en-US',
     Connection: 'close' },
  multiValueHeaders: 
   { host: [ 'localhost:3000' ],
     'proxy-connection': [ 'keep-alive' ],
     accept: [ 'application/json, text/plain, */*' ],
     origin: [ 'http://localhost:1234' ],
     'user-agent': 
      [ 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36' ],
     authorization: [ 'Bearer taxpayer' ],
     referer: [ 'http://localhost:1234/' ],
     'accept-encoding': [ 'gzip' ],
     'accept-language': [ 'en-US' ],
     Connection: [ 'close' ] },
  path: '/v1/cases',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'local',
     requestId: 'offlineContext_requestId_5149728429565148',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Cypress/3.1.4 Chrome/59.0.3071.115 Electron/1.8.2 Safari/537.36',
        user: 'offlineContext_user' },
     authorizer: 
      { principalId: 'offlineContext_authorizer_principalId',
        claims: undefined },
     protocol: 'HTTP/1.1',
     resourcePath: '/v1/cases',
     httpMethod: 'GET' },
  resource: '/v1/cases',
  httpMethod: 'GET',
  queryStringParameters: null,
  multiValueQueryStringParameters: null,
  stageVariables: null,
  body: null,
  isOffline: true }
[offline] _____ CALLING HANDLER _____


  3 passing (2s)


  (Results)

  ┌──────────────────────────────┐
  │ Tests:        3              │
  │ Passing:      3              │
  │ Failing:      0              │
  │ Pending:      0              │
  │ Skipped:      0              │
  │ Screenshots:  0              │
  │ Video:        true           │
  │ Duration:     1 second       │
  │ Spec Ran:     log-in.spec.js │
  └──────────────────────────────┘

[offline] _____ HANDLER RESOLVED _____
[offline] Using response 'default'
[offline] _____ RESPONSE PARAMETERS PROCCESSING _____
[offline] Found 0 responseParameters for 'default' response
[offline] headers { 'Content-Type': [ 'application/json' ],
  'Access-Control-Allow-Origin': [ '*' ] }
Serverless: [200] {"statusCode":"200","body":"[{\"documents\":[{\"createdAt\":\"2018-12-31T15:46:03.551Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:46:03.551Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:46:03.551Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\",\"status\":\"served\"},{\"createdAt\":\"2018-12-31T15:46:03.551Z\",\"documentId\":\"e528fc99-7068-4b93-b396-c2163991840b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"respondent\":{\"zip\":\"10111\",\"role\":\"respondent\",\"city\":\"Washington\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"IR1228\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"DC\",\"email\":\"testrespondent@example.com\"},\"userId\":\"taxpayer\",\"irsSendDate\":\"2018-12-12T23:32:48.416Z\",\"createdAt\":\"2018-11-21T20:49:28.192Z\",\"payGovDate\":\"2018-12-12T23:37:13.113Z\",\"payGovId\":\"12345\",\"caseId\":\"1a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"docketNumber\":\"101-18\",\"status\":\"general\"},{\"createdAt\":\"2018-12-31T15:45:58.364Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:46:03.551Z\",\"documentId\":\"77d4c417-295a-466b-a686-a4bdb1eb35b5\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\"},{\"createdAt\":\"2018-12-31T15:46:03.551Z\",\"documentId\":\"4a860a46-ce1a-4d59-bebc-995fe7f67ddd\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\"},{\"createdAt\":\"2018-12-31T15:46:03.551Z\",\"documentId\":\"ae97ba26-663e-47e9-9df2-e06c8d386c25\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\",\"filedBy\":\"Petitioner Test Taxpayer\"}],\"caseId\":\"9450bfb0-9825-4c04-a932-cbf64337f678\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"104-18\",\"status\":\"new\"},{\"createdAt\":\"2018-11-21T20:58:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:46:03.552Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:46:03.552Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:46:03.552Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"}],\"caseId\":\"3a6fb0fb-5f93-479a-9235-7eba43005800\",\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"103-18\",\"status\":\"new\"},{\"createdAt\":\"2018-11-21T20:51:28.192Z\",\"documents\":[{\"createdAt\":\"2018-12-31T15:46:03.552Z\",\"documentId\":\"241edd00-1d94-40cd-9374-8d1bc7ae6d7b\",\"documentType\":\"Petition\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:46:03.552Z\",\"documentId\":\"67274d05-1e30-469d-83a7-acadba72bd2d\",\"documentType\":\"Request for Place of Trial\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:46:03.552Z\",\"documentId\":\"754d7aca-3cb1-4679-a73f-75001b660e20\",\"documentType\":\"Statement of Taxpayer Identification Number\",\"userId\":\"taxpayer\"},{\"createdAt\":\"2018-12-31T15:46:03.552Z\",\"documentId\":\"a2bd3a5a-6c6e-4e86-a166-526ff045887b\",\"documentType\":\"Answer\",\"userId\":\"respondent\",\"filedBy\":\"Respondent\"}],\"workItems\":[],\"caseId\":\"2a6fb0fb-5f93-479a-9235-7eba43005800\",\"respondent\":{\"zip\":\"37208\",\"role\":\"respondent\",\"city\":\"Orlando\",\"userId\":\"respondent\",\"respondentId\":\"respondent\",\"token\":\"respondent\",\"barNumber\":\"12345\",\"phone\":\"111-111-1111\",\"name\":\"Test Respondent\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"email\":\"testrespondent@example.com\"},\"petitioners\":[{\"zip\":\"37208\",\"role\":\"taxpayer\",\"city\":\"Orlando\",\"phone\":\"111-111-1111\",\"name\":\"Test Taxpayer\",\"addressLine1\":\"111 Orange St.\",\"addressLine2\":\"Building 2\",\"state\":\"FL\",\"userId\":\"taxpayer\",\"email\":\"testtaxpayer@example.com\",\"token\":\"taxpayer\"}],\"userId\":\"taxpayer\",\"docketNumber\":\"102-18\",\"status\":\"new\"}]","headers":{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}
[offline] requestId: 9889641470948372

  (Video)

  - Started processing:   Compressing to 32 CRF
  - Finished processing:  /home/app/web-client/cypress/videos/log-in.spec.js.mp4 (0 seconds)


================================================================================

  (Run Finished)


      Spec                                    Tests  Pass…  Fail…  Pend…  Skip… 
  ┌────────────────────────────────────────────────────────────────────────────┐
  │ ✔ file-a-answer.spec.js           00:03      7      7      -      -      - │
  ├────────────────────────────────────────────────────────────────────────────┤
  │ ✔ file-a-petition.spec.js         00:03     10     10      -      -      - │
  ├────────────────────────────────────────────────────────────────────────────┤
  │ ✔ log-in.spec.js                  00:01      3      3      -      -      - │
  └────────────────────────────────────────────────────────────────────────────┘
    All specs passed!                 00:08     20     20      -      -      -  

[?25h